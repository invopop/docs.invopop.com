---
title: "Spain FAQ"
description: "Frequently asked questions about invoicing compliance in Spain"
sidebarTitle: "FAQ"
---

import Supplier from '/snippets/suppliers/es/company.mdx';
import Autonomo from '/snippets/suppliers/es/autonomo.mdx';

#### Invoicing in Spain

<AccordionGroup>
    <Accordion title="How can I correct a Spanish invoice?">
    There are three ways to correct an invoice:

    1. The recommended approach is to issue a [GOBL Invoice](https://docs.gobl.org/draft-0/bill/invoice) with the type `credit-note` or `debit-note`, which in VERI\*FACTU translates to a "Factura Rectificativa por Diferencias".
    2. If the above approach does not apply, you can issue an invoice of type `corrective`, which in VERI\*FACTU translates to a "Factura Rectificativa por Sustitución".
  </Accordion>
</AccordionGroup>

#### VERI\*FACTU

<AccordionGroup>

  <Accordion title="Has VERI*FACTU delayed until 2027?">
    Following congress approval, the  VERI\*FACTU mandate has been postponed by one year. The new dates are:

      * January 1, 2027 for companies
      * July 1, 2027 for self-employed individuals.
  </Accordion>

  <Accordion title="When can I should cancel invoices in VERI*FACTU?">
    In VERI\*FACTU, you should only cancel an invoice if it hasn’t been handed to the customer nor accepted by the tax authority. Different from a credit note or a corrective, canceling an invoice doesn’t produce a second document, which means you don’t have a paper to hand to your customer to show the cancellation. That’s why, if the invoice has been handed to the customer, we recommend issuing a credit note instead.
  </Accordion>

  <Accordion title="Do VERI*FACTU invoices need to be printed?">
    VERI\*FACTU invoices don't necessarily need to be printed because they are issued with electronic invoicing systems such as Invopop. Source: [AEAT FAQ](https://sede.agenciatributaria.gob.es/Sede/iva/sistemas-informaticos-facturacion-verifactu/preguntas-frecuentes/posibilidad-remision-informacion-factura-parte-receptor.html?faqId=9e9e77fe52572910VgnVCM100000dc381e0aRCRD).
  </Accordion>
  <Accordion title="Can we issue an VERI*FACTU invoice with an issue date in the past?">
    The AEAT is not strict about the validation, but it's best to keep your intentions clear. [GOBL](https://docs.gobl.org) gives you alternative fields such as `op_date` and `value_date` to store details about your invoicing operation.
  </Accordion>

  <Accordion title="Is VERI*FACTU compliance mandatory in Spain?">
    VERI\*FACTU will be mandatory for companies from January 1st, 2027. The rest of tax payers (mainly self-employed indidividuals) from 1 July 2027. Companies reporting with SII (large companies) or TicketBAI are exempt from reporting with VERI\*FACTU.
  </Accordion>

  <Accordion title="What should I do if an invoice is rejected by VERI*FACTU?">
    The response from VERI\*FACTU should contain all the details you need to be able to decide what changes need to be made to the [GOBL](https://docs.gobl.org) document in order to be processed correctly. Make the changes either via the Invopop API or console directly on the same document, and simply resend to the VERI\*FACTU workflow.

    Invopop will ensure that the correct substitution document is generated by checking previous attempts and including the correct codes in the new request.
  </Accordion>
  <Accordion title="What is the VERI*FACTU chain?">
    VERI\*FACTU requires every request to be linked with a fingerprint or hash. During the "Generate VERI\*FACTU" and "Cancel VERI\*FACTU" actions, Invopop will automatically find the last request made for the same supplier, and incorporate the chained data into the new request.

    Its important to understand the VERI\*FACTU focuses on requests, and not individual documents; a single invoice may have multiple entries in the chain if it has been processed multiple times due to incorrect details, cancellations, or substitutions.

    Invopop guarantees the chain is never broken using database transactions and retries in the case of collisions.
  </Accordion>
  <Accordion title="Can invoices have an issue date in the past in VERI*FACTU?">
    Yes, VERI\*FACTU allows issue dates to be in the past, as long as they are after October 28, 2024. Note that the issue date can't be set with a date in the future.
  </Accordion>
  <Accordion title="What are the most common errors when submitting invoices to VERI*FACTU?">
    The most common errors are related to format issues or invalid extensions, which are already handled in Invopop through the [`es-verifactu-v1`](https://docs.gobl.org/addons/es-verifactu-v1) addon validations. These prevent most of the typical problems before they reach the submission stage.

    Among the errors that aren't yet validated on our side, the five most frequent ones are:

    * `4104: Error en la cabecera: el valor del campo NIF del bloque ObligadoEmision no está identificado.` → The issuer's name must match what's registered for that NIF (tax ID).
    * `4102: El XML no cumple el esquema. Falta informar campo obligatorio.` → Usually occurs when a required field is missing in the XML, often within the Desglose (taxes) section.
    * `1110: El NIF no está identificado en el censo de la AEAT.` → The provided NIF (tax ID) isn't found in the AEAT registry (often due to typos or testing data).
    * `3000: Registro de facturación duplicado.` → Triggered when issuing the same invoice series/code twice.
    * `2001: El NIF del bloque Destinatarios no está identificado en el censo de la AEAT.` → Similar to 1110, but applies to the NIF (tax ID) of the customer.
  </Accordion>
  <Accordion title="In my VERI*FACTU's XML, DescripcionOperacion is being populated with line item descriptions, how do I change this?">
    You can set your own description using the notes object in the invoice. The key used for the description needs to be set to general. For example:

    ```
     "notes": [
            {
                "key": "general",
                "text": "This will appear as DescripcionOperacion"
            }
        ]
    ```
  
  We generate a default description if the note is not provided which is what you are currently seeing. This default description will neatly cut off before it reaches a length of 500 characters as that is the limit the AEAT imposes.
  </Accordion>
  <Accordion title="Once a VERI*FACTU invoice is issued, can I get the QR code image url?">
    We do not provide the QR code image itself. The QR code is a visual representation of a URL that you need to generate on your own if you're creating custom PDFs or need it for any other purpose.

    The full requirements are in the AEAT [VERI*FACTU QR specification](https://www.agenciatributaria.es/static_files/AEAT_Desarrolladores/EEDD/IVA/VERI-FACTU/DetalleEspecificacTecnCodigoQRfactura.pdf) PDF document in Spanish. Here you can read that:

    > The "QR" code must have a size between 30x30 and 40x40 millimeters and follow the specifications of the ISO/IEC 18004:2015 standard. For the generation of the "QR" code, the M (medium) error correction level shall be used.

    Generate your own QR code image as follows:

    <Steps>
      <Step title="Obtain the VERI*FACTU URL">
         * **API**: fetch the entry and get `data -> head -> stamps -> verifactu-qr`. 
         * **Console**: in the invoice entry click on the kebab `···` menu and select **View Headers**.
      </Step>
      <Step title="Generate the QR image">
        Use the VERI\*FACTU URL in a library capable of generating ISO/IEC 18004:2015 QR images (Invopop uses [go-qr](https://github.com/piglig/go-qr))
      </Step>
      <Step title="Store or use the image">
        Store or embed the image in your PDF. You can [see how we generate QR images](https://github.com/invopop/gobl.html/blob/main/components/images/images.go) in our open source gobl.html library.
      </Step>
    </Steps>

  </Accordion>

  <Accordion title="What is the deadline for uploading invoices from the time the sale is made?">
    - Bizkaia: by the end of each quarter, except for companies under SII (turnover above 6 million euros), which must report within 4 days.
    - Gipuzkoa and Álava: The submission must be done immediately after generating the invoice.
  </Accordion>
  <Accordion title="What $tags are supported in GOBL with the 'es-verifactu-v1' addon?">

    | Key | Text |
    |-----|------|
    | `reverse-charge` | Reverse Charge / Inversión del sujeto pasivo. |
    | `simplified-scheme` | Factura expedida por contribuyente en régimen simplificado. |
    | `self-billed` | Facturación por el destinatario. |
    | `travel-agency` | Régimen especial de las agencias de viajes. |
    | `second-hand-goods` | Régimen especial de los bienes usados. |
    | `art` | Régimen especial de los objetos de arte. |
    | `antiques` | Régimen especial de las antigüedades y objetos de colección. |
    | `cash-basis` | Régimen especial del criterio de caja. |
  </Accordion>
</AccordionGroup>

#### TicketBAI

<AccordionGroup>
  <Accordion title="Do I need a digital certificate or any registration with TicketBAI?">
    No, you don't need to register with TicketBAI, or upload any digital certificates to Invopop. As a certified billing provider, Invopop will sign all invoices with our own digital certificate.

    TicketBAI allows three types of certificates; Invopop uses the *certificado sello de empresa* which allows us to sign e-invoices on behalf of our customers, saving you the burden of registering and uploading certificates yourself.
  </Accordion>
  <Accordion title="Why don't TicketBAI QR codes work in the sandbox environment?">
    This is expected. QR codes generated in the TicketBAI sandbox environment are intentionally non-functional to prevent sandbox invoices from being mistaken for real ones.

    To verify that a sandbox QR code is correct, upload the PDF or a QR image to the foral tax authority's test verification page: [pruebatuz.bizkaia.eus](https://pruebatuz.bizkaia.eus/B4PEQR0C/testQr.xhtml?idioma=es).
  </Accordion>
</AccordionGroup>

#### Suppliers

<AccordionGroup>


  <Accordion title="What are the most common reasons for failing supplier approval?">
    We reject agreements when:

    - The uploaded document is not signed (they upload the unsigned template).
    - Users upload a handwritten signature without and ID.
    - The electronic signature is made with an FNMT certificate.
    - The agreement is missing a date or location.
    - The name is entered as an email address.

    The job will state the reason for rejection.
  </Accordion>

  <Accordion title="What happens if a supplier does not complete their registration within the allotted wait time?">
    A KO will be triggered and the supplier will be labelled with the `Error` state. We currently recommend sending a reminder to the supplier through a webhook.

    The registration link will not expire and the entity will still be able to upload their registration documents which will be validated. Should you choose to run this workflow again using this supplier, the supplier will be accepted or rejected immediately because the required documentation has already been provided and validated.
  </Accordion>
  <Accordion title="Should I send the credit notes with positive or negative values?">
    You should send the credit note with the same sign as the original invoice.

    In Spain, unlike other countries, credit notes must be submitted to Hacienda with inverse values. Invopop handles this conversion automatically before transforming the credit note into a "factura rectificativa" (corrective invoice).

    This means you only need to send the credit note following international standards (with same sign as the invoice). Invopop will automatically adapt it to comply with VERI\*FACTU requirements when submitting to Hacienda.

    For reference, see the [GOBL Invoice](https://docs.gobl.org/draft-0/bill/invoice) documentation with `type` set to `credit-note`.
  </Accordion>

  <Accordion title="What happens if a supplier validation is rejected?">
    If the uploaded agreement documents were rejected, a KO will be triggered and the supplier will be labelled with the `Error` state. We currently recommend sending a notification to the supplier through a webhook within the **Error Handling** section.

    Afterwards, if you wish to re-register the supplier with new documents, you must:

    1. Unregister the supplier using the **Unregister Supplier workflow**.
    2. Re-run the Register supplier workflow.

    This will restart the entire registration process. When uploading documents, the previously submitted agreement will appear selected by default. Simply choose a new file and click `Continue` to override the old one. See the image below for reference:

    <Frame caption="Overriding the previously submitted agreement">
      <img
        width="600"
        src="/assets/guides/es-verifactu-update-agreement.png"
        alt="Overriding the previously submitted agreement"
      />
    </Frame>
  </Accordion>

  <Accordion title="What is the minimum information required to register a supplier?">
    In order to complete the representation agreement you will need to provide the following information:

    **Company**

    1. Name
    2. NIF
    3. Address

    **Legal representative**

    1. Full name
    2. Government ID type and number
    3. Address

    <Supplier />

    If the entity is an self-employed individual (_autónomo_), only the information requested in in the **Legal representative** section is required.

    <Autonomo />

  </Accordion>

  <Accordion title="What methods are available to sign the PDF supplier agreements?">
    The supplier can add their electronic signature to the PDF document ([instructions](https://helpx.adobe.com/acrobat/using/signing-pdfs.html)), or sign with a handwritten signature (we recommend using [Adobe's online service](https://www.adobe.com/acrobat/online/sign-pdf.html).
  </Accordion>
  <Accordion title="What is the file size limit for the documents provided in the supplier registration flow">
    Individual documents are limited to a maximum size of 10MB. Uploads exceeding this size will result in an error.
  </Accordion>

</AccordionGroup>

---

<Card title="Participate in our community"
  icon="forumbee"
  href="https://community.invopop.com"
  arrow="true"
  horizontal
>
  Ask and answer questions about Spain's regulation →
</Card>

