---
title: "ZUGFeRD Guide"
sidebarTitle: "Instructions"
description:  Generate compliant invoices in Germany (ZUGFeRD).
---

import ZugferdWorkflow from '/snippets/workflows/templates/de/zugferd.mdx'
import B2CInvoice from '/snippets/invoices/de/zugferd-b2c.mdx'
import B2BAdditional from '/snippets/invoices/de/zugferd-b2b-additional.mdx'

## Introduction

**ZUGFeRD** is a German standard for electronic invoicing designed to bridge the gap between traditional invoices and digital formats. ZUGFeRD combines a standard PDF/A-3 invoice with an embedded XML file containing the structured data. This hybrid approach makes it especially popular in B2B transactions, as it allows both people and accounting software to work with the same document. It is fully aligned with the European Norm `EN 16931`. It is worth noting that ZUGFeRD and [Factur-X](/guides/countries/fr-facturx) are a joint project between Germany and France, and their content is identical.

<Tip>
    When referring to syntaxes, it is important to note that X-Rechnung, ZUGFeRD and Factur-X are all *semantic data models*. What this means is that they define the data that must be present in the invoice, but not the actual format of the data or the explicit name of the fields.

    To implement the semantic models, there are two syntaxes approved by the EU: UN/CEFACT Cross Industry Invoice ([CII](https://unece.org/trade/documents/2023/10/executive-guide-einvoicing-cross-industry-invoice)) and OpenOasis Universal Business Language ([UBL](https://docs.oasis-open.org/ubl/UBL-2.1.html)).
</Tip>

## Prerequisites

To convert invoices to ZUGFeRD format, ensure you have:

- A valid API key and a basic understanding of the [workflow engine](/guides/features/workflows) and [API](api-ref/introduction).
- An invoice with:
  - Supplier details (company name and required identities). Check the [German](https://docs.gobl.org/regimes/de) regimes for specifics.
  - Line items with name, price, and applicable taxes.

## ZUGFeRD Setup

To issue ZUGFeRD invoices, follow these instructions in the [Invopop Console](https://console.invopop.com):

<Steps>
<Step title="Connect the UN/CEFACT CII app">

1. Navigate to **Configuration** â†’ **Apps**.
2. Locate **UN/CEFACT CII** in the app discovery list.
3. Click **Connect** to activate.

No additional configuration is needed.
</Step>
<Step title="Configure invoice workflow">

<Tabs>
  <Tab title="Template">
    <Card iconType="duotone" title="ZUGFeRD invoice workflow" icon="code-branch" href="https://console.invopop.com/redirect/workflows/new?template=de-zugferd" cta="Add to my workspace">
    This workflow will generate an ZUGFeRD XML document and embed it into a PDF.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) code view.
    <ZugferdWorkflow />
  </Tab>
  <Tab title="Build from scratch">

    First, review our [workflows guide](/guides/features/workflows) to understand the basics.

    In [Console](https://console.invopop.com) create a new workflow and select [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) in the template selector, then add the essential steps:

    1. **Set State** - Select `Processing`
    2. **Sign Envelope**: The envelope must be signed before processing.
    3. **Generate UN/CEFACT CII Invoice**: In "Invoice Output Document Type" select `ZUGFeRD v2`.
    4. **Generate PDF**: this step creates the PDF with the embedded XML.
    5. **Set State** - Select `Sent`.

    Finally, in the "Error Handling" area, add **Set State** and select `Error`. 
  </Tab>
</Tabs>

</Step>
</Steps>

## Running

<Note>
  In your invoice data, make sure to include the [ZUGFeRD addon](https://docs.gobl.org/addons/de-xrechnung-v3) and state the regime as `DE`.
</Note>


Invopop uses the [GOBL](https://gobl.org) library to process conversions. GOBL's implementation of XRechnung validates [national business rules](https://www.xoev.de/sixcms/media.php/13/XRechnung-EnglishSummary-v220-final.pdf) in addition to the rules defined in `EN 16931-1`.

Some example invoices are provided below, along with an example workflow to send the invoices to. We also recommend using the [GOBL Builder](https://build.gobl.org) to create your own invoices.

Be sure to set the `regime` field to `DE` in your invoices and include the [ZUGFeRD](https://docs.gobl.org/addons/de-xrechnung-v3) addon. This will add extra validations to ensure the document is compliant with each standard. 

## Sample Invoices


    <B2CInvoice />

    <B2BAdditional />

You can now generate invoices in the two formats via the API or console. For more details, visit the [GOBL docs](https://docs.gobl.org) or contact [Invopop Support](mailto:support@invopop.com).

## FAQ
<AccordionGroup>
<Accordion title="How can I view an XML attached to a PDF?">
For ZUGFeRD PDFs, the XML file is embedded within the PDF itself. To extract and view it, you can use the `Attachments` section in Adobe Acrobat Reader.

Alternatively, you can use specialized tools like the [SysTools PDF Extractor](https://www.systoolsgroup.com/pdf/extractor/) to extract the XML file.
</Accordion>
</AccordionGroup>
