---
title: "KSeF 2.0 Poland Guide"
sidebarTitle: "ðŸ‡µðŸ‡± Poland"
description: "Register suppliers and issue electronic invoices through Poland's KSeF 2.0 system"
---

import PolandResources from '/snippets/tables/poland-resources.mdx';
import PartyRegistrationWorkflow from '/snippets/workflows/templates/pl/pl-register.mdx';
import SendInvoiceWorkflow from '/snippets/workflows/templates/pl/pl-send.mdx';
import ExampleAccordion from '/snippets/invoices/pl/accordion.mdx';
import ImportInvoiceWorkflow from '/snippets/workflows/templates/pl/pl-import.mdx';
import SyncInvoicesWorkflow from '/snippets/workflows/templates/pl/pl-sync.mdx';

## Introduction

KSeF (Krajowy System e-Faktur) 2.0 is Poland's mandatory national e-invoicing system operated by the [Ministry of Finance](https://www.gov.pl/web/finanse). The system uses the FA(3) XML schema format for structured invoice data and provides real-time clearance for all B2B invoices.

Invoices are encoded in FA(3), a strict XML format that enforces standardized fields for domestic and cross-border transactions. The KSeF system validates all submitted invoices in real-time and assigns a unique KSeF ID upon successful clearance.

This guide covers two key processes:

- [Party Registration](#register-a-party-for-test-environment): Registering suppliers in the KSeF system
- [Invoice Issuance](#send-an-invoice): Creating and sending FA(3) invoices through KSeF
- [Invoice Import](#invoice-import): Importing received invoices from KSeF


## Prerequisites

To issue invoices through KSeF, you will need:

| Environment | Requirements |
|-------------|--------------|
| <Badge color="green">Invopop Sandbox</Badge><br />Test mode | **Test Polish Tax ID (NIP)** <br /> You can generate fake NIPs for testing at [http://generatory.it/](http://generatory.it/). In test mode, a self-signed certificate will be generated automatically, and you can start sending invoices immediately. <br />
| <Badge color="green">Invopop Sandbox</Badge><br />Demo mode | **Real Polish Tax ID (NIP) and credentials to access the [KSeF Demo Portal](https://ap-demo.ksef.mf.gov.pl/web/)** <br /> Demo mode follows the same registration process as production but operates in the demo environment. |
| <Badge color="green">Invopop Live</Badge> | **Valid company NIP and credentials to access the [KSeF Portal](https://ksef.mf.gov.pl/)** <br /> You will need to generate a certificate through the KSeF portal. Registration will automatically target the KSeF production environment. |

## Setup

There are five key processes to prepare:
- Connect the Poland app
- Configure a party registration workflow
- Configure an invoice sending workflow
- Configure an invoice import workflow
- Configure an invoice sync workflow

All of the following steps must be carried out from the [Invopop Console](https://console.invopop.com).

<Steps>

<Step title="Connect the Poland app">
  1. Navigate to **Configuration** â†’ **Apps**
  2. Find **Poland** in the app discovery list
  3. Click **Connect** to activate

<Frame>
<img width="354" src="/assets/guides/gov-pl-connect.png" alt="Connect KSeF app" />
</Frame>

The initial connection requires no configuration.
</Step>

<Step title="Configure party registration workflow">

<Frame>
  <img
    width="400"
    src="/assets/guides/pl-register-config.png"
    alt="Choose KSeF environment (Test or Demo)"
  />
</Frame>

  In **Sandbox** the **Register Party in KSeF** step allows you to configure the environment:

  - **Test**: Self-signed certificate generated automatically, no manual steps required
  - **Demo**: Requires manual certificate generation from the demo portal.

  <Info>Test is more convenient while Demo is more accurate simulating the production environment. It is convenient to create two workflows configured differently to easily switch between the Demo and Test options.</Info>

  In **live workspaces** no configuration is available, all suppliers are registered in the KSeF production environment.
  
   In both live and sandbox **Polling Interval** can configure how often Invopop checks KSeF for new received invoices (hourly, daily, weekly, monthly, or disabled). This determines how often invoices are imported into Invopop.
  
<Tabs>
  <Tab title="Template">
    <Card iconType="duotone" title="KSeF party registration workflow" icon="code-branch" href="https://console.invopop.com/redirect/workflows/new?template=pl-register" cta="Add to my workspace">
      Registers a party (supplier) with the KSeF system.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Party workflow](https://console.invopop.com/redirect/workflows/new?template=empty-party) code view.

    <Note>
      The template uses test mode by default (for sandbox). To use demo mode in sandbox, add `"config": {"environment": "demo"}` to the **Register for KSeF** step. In Invopop production, the workflow automatically targets the KSeF production environment.
    </Note>

    <PartyRegistrationWorkflow />
  </Tab>
  <Tab title="Build from scratch">
    Before starting, review the [workflows guide](/guides/workflows) to understand the general setup process.

    In [Console](https://console.invopop.com), create a new workflow and choose [Empty Party workflow](https://console.invopop.com/redirect/workflows/new?template=empty-party) as the base. Then name the workflow with a descriptive label such as "KSeF Register Party".

    The new workflow will need to perform these steps:

    1. **Set state** - To `Processing`
    2. **Register party in KSeF (Poland)** - Registers the party with KSeF and generates a registration link. Configure with your chosen environment (test, demo, or production).
    3. **Wait for KSeF certificate upload** - Waits for the supplier to generate and upload their KSeF certificate (automatically skipped in test mode)
    4. **Set state** - To `Registered`

    Finally, in the **Error handling** area, add the **Set state** action and select `Error`.
  </Tab>
</Tabs>

</Step>

<Step title="Configure invoice sending workflow">

<Tabs>
  <Tab title="Template">
    <Card iconType="duotone" title="KSeF send invoice workflow" icon="code-branch" href="https://console.invopop.com/redirect/workflows/new?template=pl-send" cta="Add to my workspace">
      Signs and converts the [GOBL](https://docs.gobl.org) document into the FA(3) XML format and sends it to KSeF.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) code view.

    <SendInvoiceWorkflow />
  </Tab>
  <Tab title="Build from scratch">
    Before starting, review the [workflows guide](/guides/workflows) to understand the general setup process.

    In [Console](https://console.invopop.com), create a new workflow and choose [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) as the base. Then add the following steps:

    1. **Set state** - To `Processing`
    2. **Add sequential code** - Add the desired sequence for your invoices
    3. **Sign envelope** - Signs the [GOBL](https://docs.gobl.org) document preventing further modifications
    4. **Generate FA(3) XML** - Generates the FA(3) XML
    5. **Send FA(3) XML to KSeF** - Sends the FA(3) XML to KSeF
    6. **Set state** - To `Sent`

    In the **Error handling** section, add a **Set state** step with the state set to `Error` to capture and flag failed submissions.
  </Tab>
</Tabs>

</Step>

<Step title="Configure invoice import workflow">

This workflow imports individual invoices from KSeF when they are received. It will be automatically triggered by the polling service when new invoices are detected.

<Tabs>
  <Tab title="Template">
    <Card iconType="duotone" title="KSeF import invoice workflow" icon="code-branch" href="https://console.invopop.com/redirect/workflows/new?template=pl-import" cta="Add to my workspace">
      Imports a received invoice from KSeF and converts it to GOBL format.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) code view.

    <Note>
      This workflow receives KSeF number and NIP as input arguments, not a silo entry. It's designed to be triggered automatically by the sync workflow.
    </Note>

    <ImportInvoiceWorkflow />
  </Tab>
  <Tab title="Build from scratch">
    Before starting, review the [workflows guide](/guides/workflows) to understand the general setup process.

    In [Console](https://console.invopop.com), create a new workflow and choose [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) as the base. Then name the workflow with a descriptive label such as "KSeF Import Invoice".

    The new workflow will need to perform these steps:

    1. **Import invoice from KSeF** - Downloads the invoice from KSeF and converts it to GOBL format
    2. **Set folder** - To `Invoices Â· Expenses` (or your preferred folder)
    3. **Set state** - To `Registered`

    Finally, in the **Error handling** area, add the **Set state** action and select `Error`.

    <Note>
      We recommend adding notification steps (email, Slack, etc.) in the error handling section to alert you when invoice imports fail.
    </Note>
  </Tab>
</Tabs>

</Step>

<Step title="Configure invoice sync workflow">

This workflow syncs all received invoices for a party within a specific time range. It creates import jobs for each invoice found.

Configure the **Sync received invoices from KSeF** step to reference the import workflow you created in the previous step. The sync workflow will create a job for each invoice and send it to the import workflow.

<Frame>
  <img
    width="400"
    src="/assets/guides/pl-sync-config.png"
    alt="Configure the workflow that all invoices will be sent to"
  />
</Frame>


<Tabs>
  <Tab title="Template">
    <Card iconType="duotone" title="KSeF sync received invoices workflow" icon="code-branch" href="https://console.invopop.com/redirect/workflows/new?template=pl-sync" cta="Add to my workspace">
      Creates import jobs for each received invoice of a party in KSeF.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Party workflow](https://console.invopop.com/redirect/workflows/new?template=empty-party) code view.

    <SyncInvoicesWorkflow />
  </Tab>
  <Tab title="Build from scratch">
    Before starting, review the [workflows guide](/guides/workflows) to understand the general setup process.

    In [Console](https://console.invopop.com), create a new workflow and choose [Empty Party workflow](https://console.invopop.com/redirect/workflows/new?template=empty-party) as the base. Then name the workflow with a descriptive label such as "KSeF Sync Received Invoices".

    The new workflow will need to perform this step:

    1. **Sync received invoices from KSeF** - Queries KSeF for all received invoices in the time range and creates import jobs

    <Note>
      When configuring the sync step, select the import workflow you created earlier. Each invoice found will trigger a new job using that workflow.
    </Note>
  </Tab>
</Tabs>

</Step>

<Step title="Configure app for automatic polling">

To enable automatic import of received invoices, configure the Poland app with your sync workflow:

1. Navigate to **Configuration** â†’ **Apps**
2. Find the **Poland** app and click **Configure**
3. In the **Sync Workflow** field, select the sync workflow you created in the previous step
4. Click **Save**

<Frame>
  <img
    width="400"
    src="/assets/guides/pl-config-app.png"
    alt="Configure app for automatic polling"
  />
</Frame>

<Note>
  The polling service will now automatically check KSeF for new invoices based on the interval you configured during party registration. When new invoices are found, they will be imported using your configured workflows.
</Note>

</Step>

</Steps>

## Running

In this section, we'll provide details on how to register parties (suppliers) and issue invoices on their behalf.

### Register a party for test environment

<Note>
  Choose test mode when you want to quickly test the KSeF integration without dealing with real certificates or authentication. Certificates are generated automatically, allowing you to start sending invoices immediately without any manual certificate generation.
</Note>

<Steps>

<Step title="Create the party">

In the [Invopop Console](https://console.invopop.com), navigate to **Parties** â†’ **Suppliers** and click <kbd>+ New Supplier</kbd>.

Use fake Polish Tax IDs (NIP) generated from [http://generatory.it/](http://generatory.it/):

```json
{
  "$schema": "https://gobl.org/draft-0/party",
  "name": "Test Supplier Sp. z o.o.",
  "tax_id": {
    "country": "PL",
    "code": "9876543210"
  }
}
```

Click <kbd>Build</kbd>, ensure there are no errors, and click <kbd>Save</kbd>.

</Step>

<Step title="Run the workflow">

In the party entry, click on <kbd>Select Workflow</kbd>, choose your **KSeF Register Party (Test)** workflow, and click <kbd>Run Workflow</kbd>.

**That's it!** âœ“ Registration completes automatically. The party is now in <Badge color="purple">Registered</Badge> state and ready to issue invoices.

</Step>

</Steps>

---

### Register a party for demo/production environment

<Note>
  In sandbox workspaces, choose Demo mode when you want to simulate the real production flow with KSeF authentication in a safe demo environment.
</Note>

<Steps>

<Step title="Create the party">

    Use real Polish Tax IDs (NIP) with access to the [KSeF Demo Portal](https://ap-demo.ksef.mf.gov.pl/web/) or [KSeF Portal](https://ksef.mf.gov.pl/):

    ```json
    {
      "$schema": "https://gobl.org/draft-0/party",
      "name": "Real Company Sp. z o.o.",
      "tax_id": {
        "country": "PL",
        "code": "1234567890"
      }
    }
    ```


Click <kbd>Build</kbd>, ensure there are no errors, and click <kbd>Save</kbd>.

</Step>

<Step title="Run the workflow">

On the party details page, click **Select Workflow**:
- **For Demo**: Choose your **KSeF Register Party (Demo)** workflow
- **For Production**: Choose your **KSeF Register Party (Production)** workflow

Click <kbd>Run Workflow</kbd>. The party will be in <Badge color="yellow">Processing</Badge> state until certificate upload is complete.

</Step>

<Step title="Access the registration link">

Get the registration link to begin certificate generation:


<Badge color="green">Your own company</Badge><br />
In Console, go to the supplier entry â†’ **Meta** tab â†’ click the **gov-pl.invopop.com** link to launch the registration wizard.

<Frame>
  <img
    width="398"
    src="/assets/guides/pl-meta-link.png"
    alt="Supplier entry meta with KSeF registration link"
  />
</Frame>

<Badge color="green">Third-party companies</Badge> (white label)<br />
In Console, go to the supplier entry â†’ **Meta** tab â†’ click the **gov-pl.invopop.com** link to launch the registration wizard.

Add a webhook after the **Register Party in KSeF** step to receive the `siloEntryId`.

    Use the [Fetch an Entry endpoint](/api-ref/silo/entries/fetch-an-entry) to get the registration link from the `meta` object:

    ```json
    {
      "data": {
        "meta": [
          {
            "src": "gov-pl",
            "key": "link",
            "link_url": "https://ksef.invopop.com/reg/AbC123XyZ"
          }
        ]
      }
    }
    ```

    Send the `link_url` to your customer.

</Step>

<Step title="Generate a certificate in KSeF portal">

The registration wizard will guide you through these steps:

1. Visit the KSeF portal
   - Demo: [KSeF Demo Portal](https://ap-demo.ksef.mf.gov.pl/web/)
   - Production: [KSeF Portal](https://ap.ksef.mf.gov.pl/)

2. Log in with Trusted Profile (Profil Zaufany)
   - [Video tutorial: Setting up Trusted Profile](https://www.youtube.com/watch?v=V6E1fGUFPw4)

3. Generate the certificate
   - Navigate to certificate generation section
   - Enter certificate name and password (save the password!)
   - Download the private key (automatically generated)
   - Select "Authentication in the KSeF system"
   - Set start date to today or earlier (future dates will fail)
   - Download the certificate file
   - [Video tutorial: Certificate generation](https://www.youtube.com/watch?v=SE0IHuPHtRE)

<Warning>
  Save the certificate and private key files, as well as the password. You'll need them in the next step.
</Warning>

</Step>

<Step title="Upload certificate to Invopop">

There are two ways to upload the certificate:


<Badge color="green">Web Upload</Badge> (Wizard)<br />
    Return to the registration wizard and upload:
    - Certificate file
    - Private key file
    - Password

    <Frame>
      <img
        width="600"
        src="/assets/guides/pl-upload-certificate.png"
        alt="KSeF certificate upload form"
      />
    </Frame>

    Click <kbd>Upload and verify certificate</kbd>. The system validates and securely stores your credentials.

  <Badge color="green">API Upload</Badge><br />
    Upload the certificate programmatically using the [Upload KSeF certificate endpoint](/api-ref/apps/gov-pl/certificate-upload).

    <Note>
      This approach is ideal for automated integrations where you want to handle certificate generation and upload programmatically without user interaction with the web wizard.
    </Note>

âœ“ **Success**: The supplier transitions to <Badge color="purple">Registered</Badge> state and can begin issuing invoices.
Ã— **Failure**: See [Why did my supplier registration fail?](/faq/poland#why-did-my-supplier-registration-fail) in Poland's FAQ.


</Step>

</Steps>

### Send an invoice

Once a party is registered, you can issue invoices on their behalf. The following examples show partial [GOBL](https://docs.gobl.org) documents you can copy and paste directly into the [Invopop Console](https://console.invopop.com) or store via the API as silo entries.

<Tip>
  GOBL Invoices sent to KSeF require the regime set to PL and addons must include pl-favat-v3 for FA(3) schema compliance.
</Tip>

<ExampleAccordion />

After creating the invoice in the Console:
1. Click **Build** to validate
2. Click **Save** to store in the silo
3. Click **Select workflow** and choose the **KSeF Send Invoice** workflow
4. Click **Run workflow**

The invoice will be validated, converted to FA(3) XML format, and sent to KSeF. Upon successful clearance, it will receive a unique KSeF ID.

<Note>
  For international transactions, the invoice is created and cleared in KSeF just like domestic invoices. Because the foreign recipient cannot log into KSeF, delivery happens outside the platform (via email, EDI, etc.) with the KSeF QR code included for verification.
</Note>

### Import received invoices

Once you've configured the import and sync workflows, Invopop will automatically poll KSeF for new received invoices based on the polling interval you set during party registration. Here is how it works:

1. **Polling service**: Invopop checks KSeF at your configured interval (1 hour, 1 day, 1 week, or 1 month)
2. **Sync workflow**: When new invoices are detected, the sync workflow queries KSeF for all invoices received since the last poll
3. **Import jobs**: For each invoice found, a job is created using your import workflow
4. **Import workflow**: Each job downloads the FA(3) XML from KSeF, converts it to GOBL format, and stores it in your Invopop silo
5. **Organization**: Imported invoices are automatically placed in the configured folder (typically "Invoices Â· Expenses") with a `Registered` state

<Info>
  You can set different polling intervals for each party during registration. If you don't want to automatically receive invoices for a specific party, set the polling interval to "no polling" during registration.
</Info>

#### Manual import

If you need to import invoices outside of the automatic polling schedule, you can manually trigger imports using the Invopop API.

<Note>
  Manual import with workflow arguments is only available via API. The Console UI does not currently support passing custom arguments to workflow jobs.
</Note>

**Import a single invoice**

To import a specific invoice from KSeF:

<Steps>
  <Step title="Get invoice details from the KSeF portal">
    - **KSeF Number**: The unique invoice identifier (e.g., `1234567890-20260120-ABCD1234-EF`)
    - **Supplier NIP**: The Polish Tax ID of the invoice issuer
  </Step>

  <Step title="Create a job via API">
    Use the [Create a Job endpoint](/api-ref/transform/jobs/create-a-job-post):

    ```bash
    curl -X POST https://api.invopop.com/transform/v1/jobs \
      -H "Authorization: Bearer YOUR_API_TOKEN" \
      -H "Content-Type: application/json" \
      -d '{
        "workflow_id": "YOUR_IMPORT_WORKFLOW_ID",
        "args": {
          "ksef-number": "1234567890-20260120-ABCD1234-EF",
          "nip": "1234567890"
        }
      }'
    ```

    The invoice will be downloaded from KSeF, converted to GOBL, and stored in your silo.
  </Step>
</Steps>

**Import multiple invoices by date range**

To import all invoices received within a specific time period:

<Steps>
  <Step title="Determine the date range">
    Decide the date range you want to sync (from and to dates).
  </Step>

  <Step title="Create a job via API">
    Use the [Create a Job endpoint](/api-ref/transform/jobs/create-a-job-post) with your sync workflow:

    ```bash
    curl -X POST https://api.invopop.com/transform/v1/jobs \
      -H "Authorization: Bearer YOUR_API_TOKEN" \
      -H "Content-Type: application/json" \
      -d '{
        "workflow_id": "YOUR_SYNC_WORKFLOW_ID",
        "entry_id": "YOUR_PARTY_ENTRY_ID",
        "args": {
          "from": "2026-01-01T00:00:00Z",
          "to": "2026-01-31T23:59:59Z"
        }
      }'
    ```

    The sync workflow will query KSeF for all invoices received in that date range and create individual import jobs for each invoice found.
  </Step>
</Steps>

<Tip>
  Use single invoice import to bring in a specific invoice immediately after receiving notification from a supplier. Use date range sync to backfill invoices after a polling outage or to import historical invoices before automatic polling was enabled.
</Tip>

#### Error handling and notifications

We strongly recommend adding notification steps to your workflows to alert you of import failures:

- **In the import workflow**: Add email or Slack notifications to the error handling section
- **In the sync workflow**: Add notifications for when the sync process encounters issues

This ensures you're immediately aware if invoices fail to import, allowing you to take corrective action.

<Tip>
  Common import issues include certificate expired or invalid, KSeF API temporarily unavailable, invoice format not supported by GOBL conversion, and network connectivity issues. Check your workflow error logs in the Console for detailed error messages.
</Tip>

## GOBL addon reference

Detailed information about the FA(3)-specific extensions and validations can be found in:
- [Poland FA(3) VAT v3 Addon Documentation](https://docs.gobl.org/addons/pl-favat-v3)
- [Poland Tax Regime Documentation](https://docs.gobl.org/regimes/pl)

You can also use the [GOBL Builder](https://build.gobl.org) to create custom invoices with the Polish regime and FA(3) addon.

---

<PolandResources />

<Card title="Poland FAQ"
  icon="square-question"
  href="/faq/poland"
  arrow="true"
  horizontal
>
  Find answers to frequently asked questions about invoicing in Poland â†’
</Card>

<Card title="Participate in our community"
  icon="forumbee"
  href="https://community.invopop.com"
  arrow="true"
  horizontal
>
  Ask and answer questions about invoicing in Poland â†’
</Card>