---
title: "KSeF Poland Guide"
sidebarTitle: "ðŸ‡µðŸ‡± Poland (KSeF 2.0)"
description: "Register suppliers and issue electronic invoices through Poland's KSeF 2.0 system"
---

import PolandResources from '/snippets/tables/poland-resources.mdx';
import PartyRegistrationWorkflow from '/snippets/workflows/templates/pl/pl-register.mdx';
import SendInvoiceWorkflow from '/snippets/workflows/templates/pl/pl-send.mdx';

<Warning>
  **KSeF 2.0 Production Environment Status**

  KSeF 2.0 production environment is expected to launch in February 2026 for large taxpayers. This guide covers:
  - **Invopop Sandbox - Test Mode**: Auto-generated certificates for quick testing
  - **Invopop Sandbox - Demo Mode**: Real certificates from KSeF demo portal for production-like testing
  - **Invopop Production**: Registration in KSeF production for live invoice issuance (available February 2026)
</Warning>

## Introduction

KSeF (Krajowy System e-Faktur) 2.0 is Poland's mandatory national e-invoicing system operated by the [Ministry of Finance](https://www.gov.pl/web/finanse). The system uses the FA(3) XML schema format for structured invoice data and provides real-time clearance for all B2B invoices.

Invoices are encoded in FA(3), a strict XML format that enforces standardized fields for domestic and cross-border transactions. The KSeF system validates all submitted invoices in real-time and assigns a unique KSeF ID upon successful clearance.

This guide covers two key processes:
- **Party Registration**: Registering suppliers in the KSeF system
- **Invoice Issuance**: Creating and sending FA(3) invoices through KSeF

## Prerequisites

To issue invoices through KSeF, you will need:

- **For Invopop Sandbox - Test Mode**: Test Polish Tax ID (NIP). You can generate fake NIPs for testing at [https://generatorliczb.pl/generator-nip](https://generatorliczb.pl/generator-nip). In test mode, a self-signed certificate will be generated automatically, and you can start sending invoices immediately.
- **For Invopop Sandbox - Demo Mode**: Real Polish Tax ID (NIP) and credentials to access the [KSeF Demo Portal](https://ap-demo.ksef.mf.gov.pl/web/). Demo mode follows the same registration process as production but operates in the demo environment.
- **For Invopop Production** (when available): Valid company NIP and credentials to access the [KSeF Portal](https://ksef.mf.gov.pl/). You will need to generate a certificate through the KSeF portal. Registration will automatically target the KSeF production environment.

## Setup

There are three key processes to prepare:
- Connect the Poland app
- Configure a party registration workflow
- Configure an invoice sending workflow

All of the following steps must be carried out from the [Invopop Console](https://console.invopop.com).

<Steps>

<Step title="Connect the Poland app">
  1. Navigate to **Configuration** â†’ **Apps**
  2. Find **Poland** in the app discovery list
  3. Click **Connect** to activate

<Frame>
<img width="354" src="/assets/guides/gov-pl-connect.png" alt="Connect KSeF app" />
</Frame>

The initial connection requires no configuration.
</Step>

<Step title="Configure party registration workflow">

<Info>
  **Choosing Your Registration Environment**

  When configuring the **Register Party in KSeF** step in **sandbox**, you must select the environment:
  - **test**: Self-signed certificate generated automatically, no manual steps required
  - **demo**: Requires manual certificate generation from the demo portal (production-like process)

  If you're using Invopop in **production**, the workflow will automatically register suppliers in the KSeF production environment.

  If you want to test both sandbox modes, create two separate workflows with different configurations. For example: "KSeF Register Party (Test)" and "KSeF Register Party (Demo)".
</Info>

<Frame>
  <img
    width="400"
    src="/assets/guides/pl-choose-environment.png"
    alt="Choose KSeF environment (test or demo)"
  />
</Frame>

<Tabs>
  <Tab title="Template">
    <Card iconType="duotone" title="KSeF party registration workflow" icon="code-branch" href="https://console.invopop.com/redirect/workflows/new?template=pl-register" cta="Add to my workspace">
      Registers a party (supplier) with the KSeF system.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Party workflow](https://console.invopop.com/redirect/workflows/new?template=empty-party) code view.

    <Note>
      The template uses test mode by default (for sandbox). To use demo mode in sandbox, add `"config": {"environment": "demo"}` to the **Register for KSeF** step. In Invopop production, the workflow automatically targets the KSeF production environment.
    </Note>

    <PartyRegistrationWorkflow />
  </Tab>
  <Tab title="Build from scratch">
    Before starting, review the [workflows guide](/guides/workflows) to understand the general setup process.

    In [Console](https://console.invopop.com), create a new workflow and choose [Empty Party workflow](https://console.invopop.com/redirect/workflows/new?template=empty-party) as the base. Then name the workflow with a descriptive label such as "KSeF Register Party".

    The new workflow will need to perform these steps:

    1. **Set State** - To `Processing`
    2. **Register Party in KSeF (Poland)** - Registers the party with KSeF and generates a registration link. Configure with your chosen environment (test, demo, or production).
    3. **Wait for KSeF certificate upload** - Waits for the supplier to generate and upload their KSeF certificate (automatically skipped in test mode)
    4. **Set State** - To `Registered`

    Finally, in the **Error Handling** area, add the **Set State** action and select `Error`.
  </Tab>
</Tabs>

</Step>

<Step title="Configure invoice sending workflow">

<Tabs>
  <Tab title="Template">
    <Card iconType="duotone" title="KSeF send invoice workflow" icon="code-branch" href="https://console.invopop.com/redirect/workflows/new?template=pl-send" cta="Add to my workspace">
      Signs and converts the [GOBL](https://docs.gobl.org) document into the FA(3) XML format and sends it to KSeF.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) code view.

    <SendInvoiceWorkflow />
  </Tab>
  <Tab title="Build from scratch">
    Before starting, review the [workflows guide](/guides/workflows) to understand the general setup process.

    In [Console](https://console.invopop.com), create a new workflow and choose [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) as the base. Then add the following steps:

    1. **Set State** - To `Processing`
    2. **Add sequential code** - Add the desired sequence for your invoices
    3. **Sign Envelope** - Signs the [GOBL](https://docs.gobl.org) document preventing further modifications
    4. **Generate FA(3) XML** - Generates the FA(3) XML
    5. **Send FA(3) XML to KSeF** - Sends the FA(3) XML to KSeF
    6. **Set State** - To `Sent`

    In the **Error Handling** section, add a **Set State** step with the state set to `Error` to capture and flag failed submissions.
  </Tab>
</Tabs>

</Step>

</Steps>

## Running

In this section, we'll provide details on how to register parties (suppliers) and issue invoices on their behalf.

### Register a Party for Test Environment

<Note>
  **When to use**: Choose test mode when you want to quickly test KSeF integration without dealing with real certificates or authentication. Perfect for development and automated testing.
</Note>

Test mode uses auto-generated self-signed certificates, allowing you to start sending invoices immediately without any manual certificate generation.

<Steps>

<Step title="Create the Party">

In the [Invopop Console](https://console.invopop.com), navigate to **Parties** â†’ **Suppliers** and click **+ New Supplier**.

Use fake Polish Tax IDs (NIP) generated from [http://generatory.it/](http://generatory.it/):

```json
{
  "$schema": "https://gobl.org/draft-0/party",
  "name": "Test Supplier Sp. z o.o.",
  "tax_id": {
    "country": "PL",
    "code": "9876543210"
  }
}
```

Click **Build**, ensure there are no errors, and click **Save**.

</Step>

<Step title="Run the Workflow">

On the party details page, click **Select Workflow**, choose your **KSeF Register Party (Test)** workflow, and click **Run Workflow**.

**That's it!** âœ“ Registration completes automatically. The party is now in `Registered` state and ready to issue invoices.

</Step>

</Steps>

---

### Register a Party for Demo/Production Environment

<Note>
  **When to use**:
  - **Demo mode**: Test the complete production flow with real KSeF authentication in a safe demo environment (available in Invopop Sandbox)
  - **Production**: Live invoice issuance with real suppliers (available in Invopop Production)
</Note>

<Steps>

<Step title="Create the Party">

    Use real Polish Tax IDs (NIP) with access to the [KSeF Demo Portal](https://ap-demo.ksef.mf.gov.pl/web/) or [KSeF Portal](https://ksef.mf.gov.pl/):

    ```json
    {
      "$schema": "https://gobl.org/draft-0/party",
      "name": "Real Company Sp. z o.o.",
      "tax_id": {
        "country": "PL",
        "code": "1234567890"
      }
    }
    ```


Click **Build**, ensure there are no errors, and click **Save**.

</Step>

<Step title="Run the Workflow">

On the party details page, click **Select Workflow**:
- **For Demo**: Choose your **KSeF Register Party (Demo)** workflow
- **For Production**: Choose your **KSeF Register Party (Production)** workflow

Click **Run Workflow**. The party will be in `Processing` state until certificate upload is complete.

</Step>

<Step title="Access the Registration Link">

Get the registration link to begin certificate generation:

<Tabs>
  <Tab title="Your own company">
    In Console, go to the supplier entry â†’ **Meta** tab â†’ click the **gov-pl.invopop.com** link to launch the registration wizard.

    <Frame>
      <img
        width="398"
        src="/assets/guides/pl-meta-link.png"
        alt="Supplier entry meta with KSeF registration link"
      />
    </Frame>
  </Tab>

  <Tab title="Third-party companies (White Label)">
    Add a webhook after the **Register Party in KSeF** step to receive the `siloEntryId`.

    Use the [Fetch an Entry endpoint](/api-ref/silo/entries/fetch-an-entry) to get the registration link from the `meta` object:

    ```json
    {
      "data": {
        "meta": [
          {
            "src": "gov-pl",
            "key": "link",
            "link_url": "https://ksef.invopop.com/reg/AbC123XyZ"
          }
        ]
      }
    }
    ```

    Send the `link_url` to your customer.
  </Tab>
</Tabs>

</Step>

<Step title="Generate Certificate in KSeF Portal">

The registration wizard will guide you through these steps:

1. **Open the correct KSeF portal**
   - Demo: [KSeF Demo Portal](https://ap-demo.ksef.mf.gov.pl/web/)
   - Production: [KSeF Portal](https://ksef.mf.gov.pl/)

2. **Log in with Trusted Profile (Profil Zaufany)**
   - [Video tutorial: Setting up Trusted Profile](https://www.youtube.com/watch?v=V6E1fGUFPw4)

3. **Generate the certificate**
   - Navigate to certificate generation section
   - Enter certificate name and password (save the password!)
   - Download the private key (automatically generated)
   - Select "Authentication in the KSeF system"
   - Set start date to today or earlier (future dates will fail)
   - Download the certificate file
   - [Video tutorial: Certificate generation](https://www.youtube.com/watch?v=SE0IHuPHtRE)

<Warning>
  Save these three items: **certificate file**, **private key file**, and **password**. You'll need all three in the next step.
</Warning>

</Step>

<Step title="Upload Certificate to Invopop">

Return to the registration wizard and upload:
- Certificate file
- Private key file
- Password

<Frame>
  <img
    width="600"
    src="/assets/guides/pl-upload-certificate.png"
    alt="KSeF certificate upload form"
  />
</Frame>

Click **Upload and verify certificate**. The system validates and securely stores your credentials.

âœ“ **Success**: The supplier transitions to `Registered` state and can begin issuing invoices.

<Warning>
  **Upload failed?** Verify:
  - Certificate and private key match
  - Password is correct
  - Certificate start date is not in the future
  - Files are from the correct portal (demo vs production)
</Warning>

</Step>

</Steps>

### Send an Invoice

Once a party is registered, you can issue invoices on their behalf. The following examples show partial [GOBL](https://docs.gobl.org) documents you can copy and paste directly into the [Invopop Console](https://console.invopop.com) or store via the API as silo entries.

<Tip>
  [GOBL Invoices](https://docs.gobl.org/draft-0/bill/invoice) sent to KSeF require the following properties:
  - `$regime` set to [`PL`](https://docs.gobl.org/regimes/pl)
  - `$addons` must include [`pl-favat-v3`](https://docs.gobl.org/addons/pl-favat-v3) for FA(3) schema compliance
</Tip>

<AccordionGroup>

<Accordion title="B2B Standard Invoice">

```json
{
  "$schema": "https://gobl.org/draft-0/bill/invoice",
  "$regime": "PL",
  "$addons": ["pl-favat-v3"],
  "uuid": "01927639-c1a0-7f3a-88d9-5b1f2a5e3c4d",
  "type": "standard",
  "series": "INVOICE",
  "code": "001",
  "issue_date": "2026-01-20",
  "currency": "PLN",
  "supplier": {
    "name": "Testowa Firma Sp. z o.o.",
    "tax_id": {
      "country": "PL",
      "code": "9876543210"
    },
    "addresses": [
      {
        "street": "ul. GÅ‚Ã³wna 1",
        "locality": "Warsaw",
        "code": "00-001",
        "country": "PL"
      }
    ],
    "emails": [
      {
        "addr": "kontakt@testowa.pl"
      }
    ]
  },
  "customer": {
    "name": "Klient Testowy Sp. z o.o.",
    "tax_id": {
      "country": "PL",
      "code": "1111111111"
    },
    "addresses": [
      {
        "street": "ul. Testowa 10",
        "locality": "KrakÃ³w",
        "code": "30-001",
        "country": "PL"
      }
    ]
  },
  "lines": [
    {
      "i": 1,
      "quantity": "10",
      "item": {
        "name": "Software Development Services",
        "price": "100.00",
        "unit": "h"
      },
      "taxes": [
        {
          "cat": "VAT",
          "key": "standard",
          "rate": "general"
        }
      ]
    },
    {
      "i": 2,
      "quantity": "5",
      "item": {
        "name": "Consulting Services",
        "price": "150.00",
        "unit": "h"
      },
      "taxes": [
        {
          "cat": "VAT",
          "key": "standard",
          "rate": "reduced"
        }
      ]
    }
  ],
  "payment": {
    "instructions": {
      "key": "credit-transfer",
      "detail": "Transfer payment to our bank account",
      "credit_transfer": [
        {
          "iban": "PL61109010140000071219812874",
          "name": "Testowa Firma Sp. z o.o."
        }
      ]
    }
  }
}

```

</Accordion>

<Accordion title="B2B Reverse Charge Invoice">

For reverse charge invoices, the process is the same but the customer will have a EU VAT ID:

```json
{
  "$schema": "https://gobl.org/draft-0/bill/invoice",
  "$regime": "PL",
  "$addons": ["pl-favat-v3"],
  "$tags": ["reverse-charge"],
  "uuid": "01927639-c1a0-7f3a-88d9-5b1f2a5e3ccf",
  "type": "standard",
  "series": "RC",
  "code": "001",
  "issue_date": "2026-01-20",
  "currency": "PLN",
  "supplier": {
    "name": "Testowa Firma Sp. z o.o.",
    "tax_id": {
      "country": "PL",
      "code": "9876543210"
    },
    "addresses": [
      {
        "street": "ul. GÅ‚Ã³wna 1",
        "locality": "Warsaw",
        "code": "00-001",
        "country": "PL"
      }
    ]
  },
  "customer": {
    "name": "EU Business GmbH",
    "tax_id": {
      "country": "DE",
      "code": "111111125"
    },
    "addresses": [
      {
        "street": "HauptstraÃŸe 100",
        "locality": "Berlin",
        "code": "10115",
        "country": "DE"
      }
    ]
  },
  "lines": [
    {
      "i": 1,
      "quantity": "1",
      "item": {
        "name": "IT Services - EU Reverse Charge",
        "price": "5000.00"
      },
      "taxes": [
        {
          "cat": "VAT",
          "key": "reverse-charge"
        }
      ]
    }
  ],
  "notes": [
    {
      "key": "legal",
      "text": "Reverse charge mechanism applies - VAT to be accounted for by the customer."
    }
  ]
}

```

</Accordion>

<Accordion title="B2B Credit Note">

```json
{
  "$schema": "https://gobl.org/draft-0/bill/invoice",
  "$regime": "PL",
  "$addons": ["pl-favat-v3"],
  "uuid": "01927639-c1a0-7f3a-88d9-5b1f2a5e3c8b",
  "type": "credit-note",
  "series": "KOR",
  "code": "001",
  "issue_date": "2026-01-20",
  "currency": "PLN",
  "preceding": [
    {
      "type": "standard",
      "series": "INVOICE",
      "code": "001",
      "issue_date": "2026-01-20",
      "reason": "Price correction",
      "ext": {
        "pl-favat-effective-date": "1"
      },
      "stamps": [
        {
          "prv": "favat-ksef-number",
          "val": "1234567890-20260120-ABCD1234-EF"
        }
      ]
    }
  ],
  "supplier": {
    "name": "Testowa Firma Sp. z o.o.",
    "tax_id": {
      "country": "PL",
      "code": "9876543210"
    },
    "addresses": [
      {
        "street": "ul. GÅ‚Ã³wna 1",
        "locality": "Warsaw",
        "code": "00-001",
        "country": "PL"
      }
    ]
  },
  "customer": {
    "name": "Klient Testowy Sp. z o.o.",
    "tax_id": {
      "country": "PL",
      "code": "9876543210"
    },
    "addresses": [
      {
        "street": "ul. Testowa 10",
        "locality": "KrakÃ³w",
        "code": "30-001",
        "country": "PL"
      }
    ]
  },
  "lines": [
    {
      "i": 1,
      "quantity": "10",
      "item": {
        "name": "Software Development Services",
        "price": "10.00",
        "unit": "h"
      },
      "taxes": [
        {
          "cat": "VAT",
          "key": "standard",
          "rate": "general"
        }
      ]
    }
  ]
}
```

</Accordion>

</AccordionGroup>

After creating the invoice in the Console:
1. Click **Build** to validate
2. Click **Save** to store in the silo
3. Click **Select Workflow** and choose the **KSeF Send Invoice** workflow
4. Click **Run Workflow**

The invoice will be validated, converted to FA(3) XML format, and sent to KSeF. Upon successful clearance, it will receive a unique KSeF ID.

<Note>
  For international transactions, the invoice is created and cleared in KSeF just like domestic invoices. Because the foreign recipient cannot log into KSeF, delivery happens outside the platform (via email, EDI, etc.) with the KSeF QR code included for verification.
</Note>

## GOBL Addon Reference

Detailed information about the FA(3)-specific extensions and validations can be found in:
- [Poland FA(3) VAT v3 Addon Documentation](https://docs.gobl.org/addons/pl-favat-v3)
- [Poland Tax Regime Documentation](https://docs.gobl.org/regimes/pl)

You can also use the [GOBL Builder](https://build.gobl.org) to create custom invoices with the Polish regime and FA(3) addon.

---

<PolandResources />

<Card title="Poland FAQ"
  icon="square-question"
  href="/faq/poland"
  arrow="true"
  horizontal
>
  Find answers to frequently asked questions about invoicing in Poland â†’
</Card>

<Card title="Participate in our community"
  icon="forumbee"
  href="https://community.invopop.com"
  arrow="true"
  horizontal
>
  Ask and answer questions about invoicing in Poland â†’
</Card>
