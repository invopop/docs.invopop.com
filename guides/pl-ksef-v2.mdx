---
title: "KSeF 2.0 Poland Guide"
sidebarTitle: "ðŸ‡µðŸ‡± Poland"
description: "Register suppliers and issue electronic invoices through Poland's KSeF 2.0 system"
---

import PolandResources from '/snippets/tables/poland-resources.mdx';
import PartyRegistrationWorkflow from '/snippets/workflows/templates/pl/pl-register.mdx';
import SendInvoiceWorkflow from '/snippets/workflows/templates/pl/pl-send.mdx';
import ExampleAccordion from '/snippets/invoices/pl/accordion.mdx';


## Introduction

KSeF (Krajowy System e-Faktur) 2.0 is Poland's mandatory national e-invoicing system operated by the [Ministry of Finance](https://www.gov.pl/web/finanse). The system uses the FA(3) XML schema format for structured invoice data and provides real-time clearance for all B2B invoices.

Invoices are encoded in FA(3), a strict XML format that enforces standardized fields for domestic and cross-border transactions. The KSeF system validates all submitted invoices in real-time and assigns a unique KSeF ID upon successful clearance.

This guide covers two key processes:
- [Party Registration](#register-a-party-for-test-environment): Registering suppliers in the KSeF system
- [Invoice Issuance](#send-an-invoice): Creating and sending FA(3) invoices through KSeF

## Prerequisites

To issue invoices through KSeF, you will need:

| Environment | Requirements |
|-------------|--------------|
| <Badge color="green">Invopop Sandbox</Badge><br />Test mode | **Test Polish Tax ID (NIP)** <br /> You can generate fake NIPs for testing at [http://generatory.it/](http://generatory.it/). In test mode, a self-signed certificate will be generated automatically, and you can start sending invoices immediately. <br />
| <Badge color="green">Invopop Sandbox</Badge><br />Demo mode | **Real Polish Tax ID (NIP) and credentials to access the [KSeF Demo Portal](https://ap-demo.ksef.mf.gov.pl/web/)** <br /> Demo mode follows the same registration process as production but operates in the demo environment. |
| <Badge color="green">Invopop Live</Badge> | **Valid company NIP and credentials to access the [KSeF Portal](https://ksef.mf.gov.pl/)** <br /> You will need to generate a certificate through the KSeF portal. Registration will automatically target the KSeF production environment. |

## Setup

<Steps>

<Step title="Connect the Poland app">
  1. Navigate to **Configuration** â†’ **Apps**
  2. Find **Poland** in the app discovery list
  3. Click **Connect** to activate

<Frame>
<img width="354" src="/assets/guides/gov-pl-connect.png" alt="Connect KSeF app" />
</Frame>

The initial connection requires no configuration.
</Step>

<Step title="Configure party registration workflow">

<Frame>
  <img
    width="400"
    src="/assets/guides/pl-choose-environment.png"
    alt="Choose KSeF environment (Test or Demo)"
  />
</Frame>

  In **Sandbox** the **Register Party in KSeF** step allows you to configure the environment:

  - **Test**: Self-signed certificate generated automatically, no manual steps required
  - **Demo**: Requires manual certificate generation from the demo portal.

  <Info>Test is more convenient while Demo is more accurate simulating the production environment. It is convenient to create two workflows configured differently to easily switch between the Demo and Test options.</Info>

  In **live workspaces** no configuration is available, all suppliers are registered in the KSeF production environment.


<Tabs>
  <Tab title="Template">
    <Card iconType="duotone" title="KSeF party registration workflow" icon="code-branch" href="https://console.invopop.com/redirect/workflows/new?template=pl-register" cta="Add to my workspace">
      Registers a party (supplier) with the KSeF system.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Party workflow](https://console.invopop.com/redirect/workflows/new?template=empty-party) code view.

    <Note>
      The template uses test mode by default (for sandbox). To use demo mode in sandbox, add `"config": {"environment": "demo"}` to the **Register for KSeF** step. In Invopop production, the workflow automatically targets the KSeF production environment.
    </Note>

    <PartyRegistrationWorkflow />
  </Tab>
  <Tab title="Build from scratch">
    Before starting, review the [workflows guide](/guides/workflows) to understand the general setup process.

    In [Console](https://console.invopop.com), create a new workflow and choose [Empty Party workflow](https://console.invopop.com/redirect/workflows/new?template=empty-party) as the base. Then name the workflow with a descriptive label such as "KSeF Register Party".

    The new workflow will need to perform these steps:

    1. **Set State** - To `Processing`
    2. **Register Party in KSeF (Poland)** - Registers the party with KSeF and generates a registration link. Configure with your chosen environment (test, demo, or production).
    3. **Wait for KSeF certificate upload** - Waits for the supplier to generate and upload their KSeF certificate (automatically skipped in test mode)
    4. **Set State** - To `Registered`

    Finally, in the **Error Handling** area, add the **Set State** action and select `Error`.
  </Tab>
</Tabs>

</Step>

<Step title="Configure invoice sending workflow">

<Tabs>
  <Tab title="Template">
    <Card iconType="duotone" title="KSeF send invoice workflow" icon="code-branch" href="https://console.invopop.com/redirect/workflows/new?template=pl-send" cta="Add to my workspace">
      Signs and converts the [GOBL](https://docs.gobl.org) document into the FA(3) XML format and sends it to KSeF.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) code view.

    <SendInvoiceWorkflow />
  </Tab>
  <Tab title="Build from scratch">
    Before starting, review the [workflows guide](/guides/workflows) to understand the general setup process.

    In [Console](https://console.invopop.com), create a new workflow and choose [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) as the base. Then add the following steps:

    1. **Set State** - To `Processing`
    2. **Add sequential code** - Add the desired sequence for your invoices
    3. **Sign Envelope** - Signs the [GOBL](https://docs.gobl.org) document preventing further modifications
    4. **Generate FA(3) XML** - Generates the FA(3) XML
    5. **Send FA(3) XML to KSeF** - Sends the FA(3) XML to KSeF
    6. **Set State** - To `Sent`

    In the **Error Handling** section, add a **Set State** step with the state set to `Error` to capture and flag failed submissions.
  </Tab>
</Tabs>

</Step>

</Steps>

## Running

In this section, we'll provide details on how to register parties (suppliers) and issue invoices on their behalf.

### Register a Party for Test Environment

<Note>
  Choose test mode when you want to quickly test the KSeF integration without dealing with real certificates or authentication. Certificates are generated automatically, allowing you to start sending invoices immediately without any manual certificate generation.
</Note>

<Steps>

<Step title="Create the Party">

In the [Invopop Console](https://console.invopop.com), navigate to **Parties** â†’ **Suppliers** and click <kbd>+ New Supplier</kbd>.

Use fake Polish Tax IDs (NIP) generated from [http://generatory.it/](http://generatory.it/):

```json
{
  "$schema": "https://gobl.org/draft-0/party",
  "name": "Test Supplier Sp. z o.o.",
  "tax_id": {
    "country": "PL",
    "code": "9876543210"
  }
}
```

Click <kbd>Build</kbd>, ensure there are no errors, and click <kbd>Save</kbd>.

</Step>

<Step title="Run the Workflow">

In the party entry, click on <kbd>Select Workflow</kbd>, choose your **KSeF Register Party (Test)** workflow, and click <kbd>Run Workflow</kbd>.

**That's it!** âœ“ Registration completes automatically. The party is now in <Badge color="purple">Registered</Badge> state and ready to issue invoices.

</Step>

</Steps>

---

### Register a Party for Demo/Production Environment

<Note>
  In sandbox workspaces, choose Demo mode when you want to simulate the real production flow with KSeF authentication in a safe demo environment.
</Note>

<Steps>

<Step title="Create the Party">

    Use real Polish Tax IDs (NIP) with access to the [KSeF Demo Portal](https://ap-demo.ksef.mf.gov.pl/web/) or [KSeF Portal](https://ksef.mf.gov.pl/):

    ```json
    {
      "$schema": "https://gobl.org/draft-0/party",
      "name": "Real Company Sp. z o.o.",
      "tax_id": {
        "country": "PL",
        "code": "1234567890"
      }
    }
    ```


Click <kbd>Build</kbd>, ensure there are no errors, and click <kbd>Save</kbd>.

</Step>

<Step title="Run the Workflow">

On the party details page, click **Select Workflow**:
- **For Demo**: Choose your **KSeF Register Party (Demo)** workflow
- **For Production**: Choose your **KSeF Register Party (Production)** workflow

Click <kbd>Run Workflow</kbd>. The party will be in <Badge color="yellow">Processing</Badge> state until certificate upload is complete.

</Step>

<Step title="Access the Registration Link">

Get the registration link to begin certificate generation:


<Badge color="green">Your own company</Badge><br />
In Console, go to the supplier entry â†’ **Meta** tab â†’ click the **gov-pl.invopop.com** link to launch the registration wizard.

<Frame>
  <img
    width="398"
    src="/assets/guides/pl-meta-link.png"
    alt="Supplier entry meta with KSeF registration link"
  />
</Frame>

<Badge color="green">Third-party companies</Badge> (white label)<br />
In Console, go to the supplier entry â†’ **Meta** tab â†’ click the **gov-pl.invopop.com** link to launch the registration wizard.

Add a webhook after the **Register Party in KSeF** step to receive the `siloEntryId`.

    Use the [Fetch an Entry endpoint](/api-ref/silo/entries/fetch-an-entry) to get the registration link from the `meta` object:

    ```json
    {
      "data": {
        "meta": [
          {
            "src": "gov-pl",
            "key": "link",
            "link_url": "https://ksef.invopop.com/reg/AbC123XyZ"
          }
        ]
      }
    }
    ```

    Send the `link_url` to your customer.

</Step>

<Step title="Generate a Certificate in KSeF Portal">

The registration wizard will guide you through these steps:

1. Visit the KSeF portal
   - Demo: [KSeF Demo Portal](https://ap-demo.ksef.mf.gov.pl/web/)
   - Production: [KSeF Portal](https://ksef.mf.gov.pl/)

2. Log in with Trusted Profile (Profil Zaufany)
   - [Video tutorial: Setting up Trusted Profile](https://www.youtube.com/watch?v=V6E1fGUFPw4)

3. Generate the certificate
   - Navigate to certificate generation section
   - Enter certificate name and password (save the password!)
   - Download the private key (automatically generated)
   - Select "Authentication in the KSeF system"
   - Set start date to today or earlier (future dates will fail)
   - Download the certificate file
   - [Video tutorial: Certificate generation](https://www.youtube.com/watch?v=SE0IHuPHtRE)

<Warning>
  Save the certificate and private key files, as well as the password. You'll need them in the next step.
</Warning>

</Step>

<Step title="Upload Certificate to Invopop">

There are two ways to upload the certificate:


<Badge color="green">Web Upload</Badge> (Wizard)<br />
    Return to the registration wizard and upload:
    - Certificate file
    - Private key file
    - Password

    <Frame>
      <img
        width="600"
        src="/assets/guides/pl-upload-certificate.png"
        alt="KSeF certificate upload form"
      />
    </Frame>

    Click <kbd>Upload and verify certificate</kbd>. The system validates and securely stores your credentials.

  <Badge color="green">API Upload</Badge><br />
    Upload the certificate programmatically using the [Upload KSeF certificate endpoint](/api-ref/apps/gov-pl/certificate-upload).

    <Note>
      This approach is ideal for automated integrations where you want to handle certificate generation and upload programmatically without user interaction with the web wizard.
    </Note>

âœ“ **Success**: The supplier transitions to <Badge color="purple">Registered</Badge> state and can begin issuing invoices.
Ã— **Failure**: See [Why did my supplier registration fail?](/faq/poland#why-did-my-supplier-registration-fail) in Poland's FAQ.


</Step>

</Steps>

### Send an Invoice

Once a party is registered, you can issue invoices on their behalf. The following examples show partial [GOBL](https://docs.gobl.org) documents you can copy and paste directly into the [Invopop Console](https://console.invopop.com) or store via the API as silo entries.

<Tip>
  [GOBL Invoices](https://docs.gobl.org/draft-0/bill/invoice) sent to KSeF require the `$regime` set to `PL` and `$addons` must include [`pl-favat-v3`] for FA(3) schema compliance
</Tip>

<ExampleAccordion />

After creating the invoice in the Console:
1. Click **Build** to validate
2. Click **Save** to store in the silo
3. Click **Select Workflow** and choose the **KSeF Send Invoice** workflow
4. Click **Run Workflow**

The invoice will be validated, converted to FA(3) XML format, and sent to KSeF. Upon successful clearance, it will receive a unique KSeF ID.

<Note>
  For international transactions, the invoice is created and cleared in KSeF just like domestic invoices. Because the foreign recipient cannot log into KSeF, delivery happens outside the platform (via email, EDI, etc.) with the KSeF QR code included for verification.
</Note>

## GOBL Addon Reference

Detailed information about the FA(3)-specific extensions and validations can be found in:
- [Poland FA(3) VAT v3 Addon Documentation](https://docs.gobl.org/addons/pl-favat-v3)
- [Poland Tax Regime Documentation](https://docs.gobl.org/regimes/pl)

You can also use the [GOBL Builder](https://build.gobl.org) to create custom invoices with the Polish regime and FA(3) addon.

---

<PolandResources />

<Card title="Poland FAQ"
  icon="square-question"
  href="/faq/poland"
  arrow="true"
  horizontal
>
  Find answers to frequently asked questions about invoicing in Poland â†’
</Card>

<Card title="Participate in our community"
  icon="forumbee"
  href="https://community.invopop.com"
  arrow="true"
  horizontal
>
  Ask and answer questions about invoicing in Poland â†’
</Card>
