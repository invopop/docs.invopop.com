---
title: "SII Invoicing Guide"
sidebarTitle: "SII Invoicing"
description: "Issue invoices in Spain with SII."
keywords: ['sii']
---

import IssuedWorkflow from '/snippets/workflows/templates/es/sii-record-issued.mdx';
import ReceivedWorkflow from '/snippets/workflows/templates/es/sii-record-received.mdx';
import InvoiceAccordion from '/snippets/invoices/es/sii-accordion.mdx';
import B2BReceivedInvoice from '/snippets/invoices/es/sii-b2b-received.mdx';
import CreditNote from '/snippets/invoices/es/sii-credit-note.mdx';
import CorrectiveInvoice from '/snippets/invoices/es/sii-corrective.mdx';
import SpainResources from '/snippets/tables/spain-resources.mdx';

## Introduction

SII (Suministro Inmediato de Información) is a fiscal initiative by the Spanish Tax Agency (AEAT) that requires large businesses to report invoices through certified software. The system records issued and received invoices.

<Note>
  SII is mandatory for companies that meet certain requirements. Companies reporting with VERI*FACTU or TicketBAI are exempt from reporting with SII.

  Invopop provides a foundational implementation for SII with limitations, please check the current [implementation scope](/apps/spain#limitations) for more information.
</Note>

## Prerequisites

To issue your first SII invoice, you must have registered at least one supplier. Make sure you read and implemented the [SII supplier onboarding guide](/guides/es-sii-supplier) before continuing with this guide.


## Setup

Add a new workflow to your workspace to issue invoices. You can start with the template below.

<Tabs>
  <Tab title="Template">
    <Card title="SII issued invoice workflow" icon="code-branch" iconType="duotone" href="https://console.invopop.com/redirect/workflows/new?template=es-sii-record-issued" cta="Add to my workspace">
      This workflow will record an issued invoice in the SII system.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) code view.

    <IssuedWorkflow />
  </Tab>
  <Tab title="Build from scratch">
    In [Console](https://console.invopop.com) create a new workflow and select [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) in the template selector, then add the following steps:

    1. **Set State** - Select `Processing`. This initial state marks the document as being processed.
    2. **Add Sequential Code** - Use a `Dynamic` series with a name like "SII".
    3. **Sign Envelope** - Signs the document.
    4. **Record issued invoice in SII** - Records the issued invoice in SII.
    5. **Generate PDF** - Creates the PDF invoice with the required QR code.
    6. **Set State** - Select `Sent`. This final state marks the document as being sent.

    In the Error Handling section, add the **Set State** action and select `Error`.

  </Tab>
</Tabs>

You can also add a new workflow to your workspace to record received invoices, if you plan to report those to SII:

<Tabs>
  <Tab title="Template">
    <Card title="SII received invoice workflow" icon="code-branch" iconType="duotone" href="https://console.invopop.com/redirect/workflows/new?template=es-sii-record-received" cta="Add to my workspace">
      This workflow will record a received invoice in the SII system.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) code view.

    <ReceivedWorkflow />
  </Tab>
  <Tab title="Build from scratch">
    In [Console](https://console.invopop.com) create a new workflow and select [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) in the template selector, then add the following steps:

    1. **Set State** - Select `Processing`. This initial state marks the document as being processed.
    2. **Add Sequential Code** - Use a `Dynamic` series with a name like "SII".
    3. **Sign Envelope** - Signs the document.
    4. **Record received invoice in SII** - Records the received invoice in SII.
    5. **Generate PDF** - Creates the PDF invoice with the required QR code.
    6. **Set State** - Select `Sent`. This final state marks the document as being sent.

    In the Error Handling section, add the **Set State** action and select `Error`.

  </Tab>
</Tabs>

Keep each `Workflow ID` at hand, you'll use them later.

<Info>
  SII allows for document modifications after submission. If a document is rejected or contains errors, update the GOBL details and resubmit to the same workflow.
</Info>

## Issue an Invoice

<Steps>
  <Step title="Upload an Invoice">
    Use the [Create an entry](/api-ref/silo/entries/create-an-entry-put) endpoint to upload the invoice details. Include an [invoice](https://docs.gobl.org/draft-0/bill/invoice) object in the [data](/api-ref/silo/entries/create-an-entry-put#body-data) field with these required fields:

    - Add the [`es-sii-v1`](https://docs.gobl.org/addons/es-sii-v1) addon
    - `supplier`: Use the details of the supplier you've registered before.

    You can copy one of the example invoices below as a reference.

    <InvoiceAccordion />

    After uploading you'll see the document in the **Invoices** section with status `Empty`.

    <Frame caption="Empty invoice">
      <img
        width="600"
        src="/assets/guides/es-sii-invoice-1.png"
        alt="Empty invoice"
      />
    </Frame>
  </Step>
  <Step title="Send the Invoice to the SII invoice workflow">
    Send the invoice to the SII workflow using the [Create a job](/api-ref/transform/jobs/create-a-job-post) endpoint. Use:

    - `workflow_id`: use the Workflow ID of the _SII issue invoice_ workflow created on setup.
    - `silo_entry_id`: use the Silo Entry ID of the invoice you've just uploaded.

    The invoice's status will change to `Sent` when the workflow completes successfully.

    <Frame caption="Sent invoice">
      <img
        width="600"
        src="/assets/guides/es-sii-invoice-2.png"
        alt="Sent invoice"
      />
    </Frame>

    You can verify that the PDF was generated by clicking on the invoice and selecting the PDF from the "Files" tab.

  </Step>
</Steps>

## Issue a Credit Note (Rectificativa por Diferencias)

In Spain, one way to correct an invoice is by issuing a credit note, known as a _Rectificativa por Diferencias_.
An alternative method is to issue a _Rectificativa por Sustitución_, which involves creating a new invoice with the type corrective.

The difference between the two is subtle but important:

- A credit note adjusts the value of the original invoice.
- A corrective invoice replaces the original invoice entirely.

For example, if you issued an invoice for €100 but later realized it should have been €80, you can either:

- Issue a credit note for €20, or
- Issue a corrective invoice for €80.

Unless you have a specific requirement to use a corrective invoice we recommend only using credit notes. They're more widely supported across countries, while corrective invoices are specific to a few jurisdictions like Spain. Examples where you would need to issue a corrective invoice (_Rectificativa por Sustitución_) are incorrect supplier or client data, which can't be corrected through credit or debit notes.

<Steps>
  <Step title="Upload a Credit Note">
    A credit note in Invopop is an invoice of the [type](https://docs.gobl.org/draft-0/bill/invoice#type-values) credit note. The process is very similar to uploading an invoice, use the [Create an entry](/api-ref/silo/entries/create-an-entry-put) endpoint to upload a credit note. Include an [invoice](https://docs.gobl.org/draft-0/bill/invoice) object in the [data](/api-ref/silo/entries/create-an-entry-put#body-data), with these required fields:

    - Add the [`es-sii-v1`](https://docs.gobl.org/addons/es-sii-v1) addon
    - `supplier`: use the same supplier details as in the original invoice
    - `type`: `credit-note`
    - `preceding`: references the original invoice, within it, you must include:
      - `uuid`: the UUID of the original invoice (optional but recommended)
      - `type`: type of the original invoice
      - `issue_date`: the date of the original invoice
      - `series`: the series of the original invoice
      - `code`: the code of the original invoice

  You can copy the example credit note below as a reference.

	<CreditNote />

  After successful upload, you'll see the credit note in the **Invoices** section with status `Empty`. If you've included the `uuid` of the invoice in preceding, you'll see a link to the credit note we've just created in the _Related_ tab of the invoice.

  </Step>
  <Step title="Send the Credit Note to the SII invoice workflow">
    Send the credit note to the SII workflow using the [Create a job](/api-ref/transform/jobs/create-a-job-post) endpoint. Use:

    - `workflow_id`: use the Workflow ID of the _SII issued invoice_ workflow we created during setup
    - `silo_entry_id`: use the The Silo Entry ID of the credit note you've just uploaded.

    The credit note's status will change to `Sent` when the workflow completes successfully.
  </Step>
</Steps>

## Issue a Corrective Invoice (Rectificativa por Sustitución)

<Steps>
  <Step title="Upload a Corrective Invoice">
    A corrective invoice in Invopop is an invoice of the type `corrective`. The process is very similar to uploading an invoice, use the [Create an entry](/api-ref/silo/entries/create-an-entry-put) endpoint to upload a corrective invoice. Include an [invoice](https://docs.gobl.org/draft-0/bill/invoice) object in the [data](/api-ref/silo/entries/create-an-entry-put#body-data), with these required fields:

    - `regime`: `ES`
    - Add the [`es-sii-v1`](https://docs.gobl.org/addons/es-sii-v1) addon
    - `supplier_id`: use the same supplier details as in the original invoice
    - `type`: `corrective`
    - `preceding`: references the original invoice, within it, you must include:
      - `uuid`: the UUID of the original invoice (optional but recommended)
      - `type`: type of the original invoice
      - `issue_date`: the date of the original invoice
      - `series`: the series of the original invoice
      - `code`: the code of the original invoice
      - `tax`: the tax section of the original invoice, you can copy it from the original invoice

  You can copy the example corrective invoice below as a reference.

	<CorrectiveInvoice />

  After successful upload, you'll see the corrective invoice in the **Invoices** section with status `Empty`. If you've included the `uuid` of the invoice in preceding, you'll see a link to the corrective invoice we've just created in the _Related_ tab of the invoice.
  </Step>
  <Step title="Send the Corrective Invoice to the SII invoice workflow">
    Send the corrective invoice to the SII workflow using the [Create a job](/api-ref/transform/jobs/create-a-job-post) endpoint. Use:

    - `workflow_id`: use the Workflow ID of the _SII issued invoice_ workflow we created during setup
    - `silo_entry_id`: use the The Silo Entry ID of the corrective invoice you've just uploaded.

    The corrective invoice's status will change to `Sent` when the workflow completes successfully.
  </Step>
</Steps>

## Record a Received Invoice

<Steps>
  <Step title="Upload a Received Invoice">
    Use the [Create an entry](/api-ref/silo/entries/create-an-entry-put) endpoint to upload the received invoice details. Include an [invoice](https://docs.gobl.org/draft-0/bill/invoice) object in the [data](/api-ref/silo/entries/create-an-entry-put#body-data) field with these required fields:

    - Add the [`es-sii-v1`](https://docs.gobl.org/addons/es-sii-v1) addon
    - `customer`: Use the details of the party you've registered before.

    You can copy the example invoice below as a reference. Note that any invoice type from the previous sections (issued invoices) could also be used, as well as credit notes, by simply swapping the `supplier` and `customer` fields.

    <AccordionGroup>
      <Accordion title="B2B Standard Received Invoice">
        This is a standard B2B invoice received from a supplier where:

        - The supplier is the business that has issued the invoice to you.
        - The customer is your business (previously registered).
        <B2BReceivedInvoice />
      </Accordion>
    </AccordionGroup>

    After uploading you'll see the document in the **Invoices** section with status `Empty`.
  </Step>
  <Step title="Send the Invoice to the SII received invoice workflow">
    Send the invoice to the SII received invoice workflow using the [Create a job](/api-ref/transform/jobs/create-a-job-post) endpoint. Use:

    - `workflow_id`: use the Workflow ID of the _SII received invoice_ workflow created on setup.
    - `silo_entry_id`: use the Silo Entry ID of the invoice you've just uploaded.

    The invoice's status will change to `Sent` when the workflow completes successfully.

    You can verify that the PDF was generated by clicking on the invoice and selecting the PDF from the "Files" tab.

  </Step>
</Steps>



{/*
## Cancel an Invoice

SII also allows you to cancel an invoice. In general, you should only cancel an invoice if it hasn't been handed to the customer nor accepted by the tax authority.

Different from a credit note or a corrective, canceling an invoice doesn't produce a second document, which means you don't have a paper to hand to your customer to show the cancellation. That's why, if the invoice has been handed to the customer, we recommend issuing a credit note instead.

<Steps>
  <Step title="Add a cancel invoice workflow (only once)">
    To cancel an invoice, you need a workflow with the _Cancel invoice_ step. You can start with the template below.

    <Tabs>
      <Tab title="Template">
        <Card title="SII cancel invoice workflow" icon="code-branch" iconType="duotone" href="https://console.invopop.com/redirect/workflows/new?template=es-sii-cancel" cta="Add to my workspace">
          This workflow will cancel a SII document.
        </Card>
      </Tab>
      <Tab title="Code">
        Copy and paste into a new [Empty Party workflow](https://console.invopop.com/redirect/workflows/new?template=empty-party) code view.

        <CancelInvoice />
      </Tab>
      <Tab title="Build from scratch">
        Before starting, review the [workflows guide](/guides/features/workflows) to understand the general setup process.

        In [Console](https://console.invopop.com), create a new workflow and choose [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) as the base. Then name the workflow with a descriptive label such as "SII Cancel Invoice".

        We recommend adding the following steps:

        1. **Cancel invoice** - Cancels the SII document.
        2. **Set State** - select _Void_ in the step configuration. This will set the state of the invoice to `Void`.
        3. In the Error Handling area, **Set State** - select `Error` in the step configuration.

        Add any additional steps you may need, and save the new workflow.
      </Tab>
    </Tabs>
  </Step>
  <Step title="Send to cancellation workflow">
    To cancel an invoice, simply send it to the SII cancel invoice workflow created earlier using the [Create a job](/api-ref/transform/jobs/create-a-job-post) endpoint.

    The invoice's status will change to `Void` when the workflow completes successfully.
  </Step>
</Steps>*/}

---

<SpainResources />

<Card title="Spain FAQ"
  icon="square-question"
  href="/faq/spain"
  arrow="true"
  horizontal
>
  Find answers to frequently asked questions about invoicing in Spain →
</Card>

<Card title="Participate in our community"
  icon="forumbee"
  href="https://community.invopop.com"
  arrow="true"
  horizontal
>
  Ask and answer questions about invoicing in Spain →
</Card>
