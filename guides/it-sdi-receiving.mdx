---
title: "SDI Receiving Invoices Guide"
sidebarTitle: "SDI Receiving"
description: "Receive and process electronic invoices from Italy's SDI system"
---

import CustomerRegistrationWorkflow from '/snippets/workflows/templates/it/sdi-register-customer.mdx';
import ImportInvoicesWorkflow from '/snippets/workflows/templates/it/sdi-import-invoices.mdx';
import ItalyResources from '/snippets/tables/italy-resources.mdx';


## Introduction

The SDI system operates using a standardized XML format called FatturaPA, which ensures all invoices contain the required information and comply with the strict validation rules established by the Italian tax authority (_Agenzia delle Entrate_). To ensure proper routing of invoices to the correct recipient, the SDI system uses a unique identifier called a Recipient Code, which is assigned to each registered SDI provider.

To receive FatturaPA XML documents, Invopop uses the [GOBL FatturaPA](https://github.com/invopop/gobl.fatturapa) library to automatically process conversions into [GOBL](https://docs.gobl.org) format.

Detailed information about the SDI-specific extensions and validations can be found in:
- [Italy SDI FatturaPA v1.x Addon Documentation](https://docs.gobl.org/addons/it-sdi-v1)
- [Italy Tax Regime Documentation](https://docs.gobl.org/regimes/it)

## Setup

<Steps>
<Step title="Connect the SDI Italy app">
1. Navigate to **Configuration** → **Apps**
2. Locate **SDI Italy** in the app discovery list
3. Tap **Connect** to activate

<Frame>
<img width="500" src="/assets/guides/it-sdi-connect.png" alt="Connect SDI Italy app" />
</Frame>

Unlike sending, receiving invoices requires additional configuration after the initial connection.
</Step>

<Step title="Set up the Customer Registration Workflow">
Use this workflow to register a company to receive invoices through SDI.
<Tabs>
  <Tab title="Template">
    <Card iconType="duotone" title="SDI register party workflow" icon="code-branch" href="https://console.invopop.com/redirect/workflows/new?template=it-sdi-register-customer" cta="Add to my workspace">
    This workflow registers a company to receive electronic invoices through Italy’s SDI.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Party workflow](https://console.invopop.com/redirect/workflows/new?template=empty-party) code view.
    <CustomerRegistrationWorkflow />
  </Tab>
  <Tab title="Build from scratch">

      Before starting, review the [workflows guide](/guides/features/workflows) to understand the general setup process.

      In [Console](https://console.invopop.com), create a new workflow and choose [Empty Party workflow](https://console.invopop.com/redirect/workflows/new?template=empty-party) as the base. Then name the workflow with a descriptive label such as "SDI Register Supplier".

    The new workflow will need to perform these steps:

      1. **Set State**: Select `Processing` to mark the start of the registration.
      2. **Register SDI Customer (Italy)**: This step registers the company as an invoice receiver through SDI. Make sure to select the `Production` environment to go live.
      3. **Set State**: Once the registration is complete, select `Registered`.

      In the **Error Handling** section, add a **Set State** step and choose `Error` to capture any issues during registration.

      This minimal workflow is required to onboard a customer for SDI e-invoicing in Italy. You can extend it with notification steps, such as sending confirmation emails or updating external systems when registration succeeds or fails.

      <Frame><img src="/assets/guides/it-sdi-customer-registration.png" alt="Register SDI Customer (Italy) workflow" /></Frame>

  </Tab>
</Tabs>

</Step>


<Step title="Import Invoices Workflow">
Use this workflow to import and process invoices received through SDI. This workflow must be selected in the SDI Italy app configuration to automatically process incoming invoices.
<Tabs>
  <Tab title="Template">
    <Card iconType="duotone" title="SDI register customer" icon="code-branch" href="https://console.invopop.com/redirect/workflows/new?template=it-sdi-import-invoices"  cta="Add to my workspace">
      This workflow will convert received FatturaPA documents into our open source [GOBL](https://docs.gobl.org) format.
    </Card>
  </Tab>
  <Tab title="Code">
    Copy and paste into a new [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) code view.
    <ImportInvoicesWorkflow />
  </Tab>
  <Tab title="Build from scratch">

      This workflow automates the import and processing of incoming invoices via Italy’s SDI.

      Before starting, review the [workflows guide](/guides/features/workflows) to understand the general setup process.

      In [Console](https://console.invopop.com), create a new workflow and choose [Empty Invoice workflow](https://console.invopop.com/redirect/workflows/new?template=empty-invoice) as the base. Then add the following steps:

      1. **Import from SDI (Italy)**: Retrieves invoices in the FatturaPA format from SDI and converts them into GOBL. Set the environment to `Production` for real operations.
      2. **Generate PDF**: Generates a visual representation of the invoice in Italian, using the specified locale (`it`), date format (`%Y-%m-%d`), and logo height (40px).
      3. **Set State**: Marks the invoice as `Sent` once it's successfully processed.

      In the **Error Handling** section, add a **Set State** step with the state set to `Error` to capture and flag failed imports.

      This is the minimal workflow required to automate the reception and visualization of invoices received through SDI. You may expand it with additional steps such as storing a backup copy, notifying clients, or integrating the documents into an ERP system.

      <Frame><img src="/assets/guides/it-sdi-customer-registration.png" alt="Register SDI Customer (Italy) workflow" /></Frame>

  </Tab>
</Tabs>
</Step>


<Step title="Configure the app for receiving invoices">
To start processing incoming invoices navigate to **Configuration** → **Apps**, find the **SDI Italy** app and tap **Configure** and select the appropriate **Import Invoices** workflow

    <Frame><img width="450" src="/assets/guides/it-sdi-configure-panel.png" alt="Select Import Invoices workflow" /></Frame>

This workflow will automatically trigger whenever a new invoice is received through SDI. Any errors in the import process will trigger the rescue steps in the workflow, allowing identification and resolution of issues.
</Step>

<Step title="Register with Italian tax authority (live only)">
  <Note>
    In Sandbox skip this step, as Invopop simulates the receiving environment. 
  </Note>
For each company you want to receive invoices, register the Recipient Code (Codice Destinatario) at Agenzia Entrate.

1. Access the [Italian tax authority's website](https://ivaservizi.agenziaentrate.gov.it/portale/) and log in with valid credentials for the company being registered.

<Frame><img width="600" src="/assets/guides/it-sdi-register.png" alt="Register with Italian tax authority" /></Frame>

2. Tap on the **Fatture e Corrispettivi** section.
3. In the box **Fatturazione elettronica**, tap on **Registrazione delle modalità di ricezione della fattura elettronica**.
4. Select the Recipient Code (_Codice Destinatario_) option and enter the code `JKKZDGR` provided by Invopop
5. Tap on **Conferma**

<Tip>
  Make sure you notify the companies about their new Codice Destinatario. It works as a routing identifier that tells the SDI system where to deliver incoming electronic invoices. Invoices sent to an outdated Codice Destinatario will be rejected. 
</Tip>
</Step>

<Step title="Run the Customer Registration workflow in Invopop">
  In Invopop, execute the [SDI register customer](#template-2) workflow on the supplier's silo entry to complete the setup for that company.
</Step>
</Steps>

<Warning>
 In live workspaces make sure you both register Codice Destinatario `JKKZDGR` and run the customer registration workflow. Registration is only needed for receiving invoices, not sending.
</Warning>

## Receiving Invoices


Once registered, any invoices addressed to the registered companies with the Recipient Code will be automatically received and processed through the Import Invoices workflow configured in the app settings. Received invoices will appear in your **Expenses** folder.

If errors occur during the import process, they will trigger the rescue steps in the workflow, allowing users to check what went wrong and take appropriate action.

---

<ItalyResources />


<Card title="Italy FAQ"
  icon="square-question"
  href="/faq/italy"
  arrow="true"
  horizontal
>
  Find answers to frequently asked questions about invoicing in Italy →
</Card>

<Card title="Participate in our community"
  icon="forumbee"
  href="https://community.invopop.com"
  arrow="true"
  horizontal
>
  Ask and answer questions about invoicing in Italy →
</Card>
