import ServiceInvoiceMin from '/snippets/invoices/br/dfe-service-invoice.min.mdx';
import ServiceInvoice from '/snippets/invoices/br/dfe-service-invoice.mdx';
import ServiceInvoiceRTCMin from '/snippets/invoices/br/dfe-service-invoice-rtc.min.mdx';
import ServiceInvoiceRTC from '/snippets/invoices/br/dfe-service-invoice-rtc.mdx';
import ConsumerInvoiceMin from '/snippets/invoices/br/dfe-consumer-invoice.min.mdx';
import ConsumerInvoice from '/snippets/invoices/br/dfe-consumer-invoice.mdx';

<AccordionGroup>
	<Accordion title="Example B2B service invoice (NFS-e)">

		In this example, we're issuing a simple service invoice (NFS-e) from a Brazilian supplier to another Brazilian business customer.

		Notice:

		- we've added the [`br-nfse-v1`](https://docs.gobl.org/addons/br-nfse-v1) addon; this ensures the document will be validated using the NFS-e rules built into the [GOBL](https://docs.gobl.org) library,
		- extensions (`ext`) and identities have been used in multiple locations for fields whose values cannot be determined any other way,
		- ISS percentage is provided explicitly as it varies depending on the municipality and type of service,
		- there are no totals or calculations; all these will be made automatically when uploading, and,
		- make sure to process it with the "Issue NFS-e" workflow created during setup.

		<CodeGroup>
			<ServiceInvoiceMin />
			<ServiceInvoice />
		</CodeGroup>
	</Accordion>

	<Accordion title="Example B2B service invoice with RTC (NFS-e)">

		In this example, we're issuing a simple service invoice (NFS-e) with the currently supported RTC (Tax Reform) fields.

		Notice the differences from the previous example:

		- we've set the [`br-nfse-operation`](https://docs.gobl.org/addons/br-nfse-v1#operation-indicator) extension, the [`br-nfse-tax-status`](https://docs.gobl.org/addons/br-nfse-v1#tax-status-code-cst) extension and the [`br-nfse-tax-class`](https://docs.gobl.org/addons/br-nfse-v1#tax-classification-code) extension at item level which will be used to determine the IBS and CBS taxes as part of the tax reform.

		<CodeGroup>
			<ServiceInvoiceRTCMin />
			<ServiceInvoiceRTC />
		</CodeGroup>
	</Accordion>

	<Accordion title="Example B2C consumer invoice (NFC-e)">

		In this example, we're issuing a simple consumer invoice (NFC-e) from a Brazilian supplier.

		Notice:

		- we've added the [`br-nfe-v1`](https://docs.gobl.org/addons/br-nfe-v4) addon; this ensures the document will be validated using the NF-e/NFC-e rules built into the [GOBL](https://docs.gobl.org) library,
		- the customer is optional and in this example we've omitted it,
		- extensions (`ext`) and identities have been used in multiple locations for fields whose values cannot be determined any other way,
		- tax percentages are provided explicitly as they vary depending on the state and type of goods,
		- there are no totals or calculations; all these will be made automatically when uploading, and,
		- make sure to process it with the "Issue NFC-e" workflow created during setup.

		<CodeGroup>
			<ConsumerInvoiceMin />
			<ConsumerInvoice />
		</CodeGroup>
	</Accordion>

</AccordionGroup>
