import ATB2BInvoiceMin from '/snippets/invoices/pt/at-b2b.min.mdx';
import ATB2BInvoice from '/snippets/invoices/pt/at-b2b.mdx';

<AccordionGroup>
	<Accordion title="AT B2B invoice">

		In this example, we're issuing a simple invoice from a Portuguese supplier to another Portuguese business.

		Notice:

		- the minimal version (`at-b2b.min.mdx`) contains only the essential fields required to create the invoice,
		- the [`pt-saft-v1`](https://docs.gobl.org/addons/pt-saft-v1) addon ensures the document will be validated and normalized using the SAF-T PT v1 rules built into the [GOBL](https://docs.gobl.org) library,
		- the `supplier` and `series` fields are set to example values; you'll need to replace them with the details of supplier and series registered as per the previous sections. The series must be registered in the Supplier Portal and follow Portuguese naming conventions (see [Series Management](/guides/pt-at#series-management) for details),
		- when running `gobl build`, the system automatically calculates totals, assigns the [`pt-saft-invoice-type`](https://docs.gobl.org/addons/pt-saft-v1#invoice-type) extension to `FT` (Fatura), sets the [`pt-saft-payment-means`](https://docs.gobl.org/addons/pt-saft-v1#payment-means) extension to `CC` for card payment, and applies the [`pt-saft-tax-rate`](https://docs.gobl.org/addons/pt-saft-v1#tax-rate-code) extension to `NOR` for standard VAT,
		- the built version (`at-b2b.mdx`) shows the normalized document with calculated totals, line item sums (including advance payment deductions), tax breakdowns, and automatically generated fields,
		- the `h` item unit causes the [`pt-saft-product-type`](https://docs.gobl.org/addons/pt-saft-v1#product-type) extension to be set to `S` (Servi√ßo), and the [`pt-region`](https://docs.gobl.org/regimes/pt#region-code) extension is automatically set to `PT`, and,
		- there are no totals or calculations in the minimal version; all these will be made automatically when uploading.

		<CodeGroup>
			<ATB2BInvoiceMin />
			<ATB2BInvoice />
		</CodeGroup>
	</Accordion>
</AccordionGroup>
