import B2CInvoice from '/snippets/invoices/es/verifactu-b2c.mdx';
import B2CInvoiceMin from '/snippets/invoices/es/verifactu-b2c-min.mdx';
import B2BInvoice from '/snippets/invoices/es/verifactu-b2b.mdx';
import B2BInvoiceMin from '/snippets/invoices/es/verifactu-b2b-min.mdx';
import B2BServicesEUClient from '/snippets/invoices/es/verifactu-b2b-services-eu.mdx';
import B2BServicesEUClientMin from '/snippets/invoices/es/verifactu-b2b-services-eu-min.mdx';
import B2BGoodsEUClient from '/snippets/invoices/es/verifactu-b2b-goods-eu.mdx';
import B2BGoodsEUClientMin from '/snippets/invoices/es/verifactu-b2b-goods-eu-min.mdx';
import B2BServicesNoEUClient from '/snippets/invoices/es/verifactu-b2b-services-no-eu.mdx';
import B2BServicesNoEUClientMin from '/snippets/invoices/es/verifactu-b2b-services-no-eu-min.mdx';
import B2BGoodsNoEUClient from '/snippets/invoices/es/verifactu-b2b-goods-no-eu.mdx';
import B2BGoodsNoEUClientMin from '/snippets/invoices/es/verifactu-b2b-goods-no-eu-min.mdx';
import B2BExemptE1Invoice from '/snippets/invoices/es/verifactu-exempt-E1.mdx';
import B2BExemptE1InvoiceMin from '/snippets/invoices/es/verifactu-exempt-E1-min.mdx';
import B2COneStopShopInvoice from '/snippets/invoices/es/verifactu-b2c-oss.mdx';
import B2COneStopShopInvoiceMin from '/snippets/invoices/es/verifactu-b2c-oss-min.mdx';
import CreditNoteInvoice from '/snippets/invoices/es/verifactu-credit-note.mdx';
import CreditNoteInvoiceMin from '/snippets/invoices/es/verifactu-credit-note-min.mdx';
import CorrectiveInvoice from '/snippets/invoices/es/verifactu-corrective.mdx';


<AccordionGroup>
  
  <Accordion title="B2C Simplified Invoice">
    Simplified invoices are used for B2C transactions when the customer is not a business. The transaction amount should be under €400 (VAT included) with some [exceptions](https://sede.agenciatributaria.gob.es/Sede/iva/facturacion-registro/facturacion-iva/tipos-factura.html) in which this threshold is increased to €3,000.

    To create a simplified VERI\*FACTU invoice, include the `simplified` tag in your GOBL document with the [`es-verifactu-v1`](https://docs.gobl.org/addons/es-verifactu-v1) addon.

    <CodeGroup>
      <B2CInvoiceMin />
      <B2CInvoice />
    </CodeGroup>
  </Accordion>

  <Accordion title="B2B Standard Invoice">
    Regular invoices are used for B2B transactions. Regular invoices must be issued when:

    - The customer is a registered business (has a tax identification number).
    - The transaction amount is €400 VAT included or above, or the customer requires a full invoice.
    - The customer needs a complete invoice with all tax details for accounting or tax purposes.

    To create a regular VERI\*FACTU invoice, include the [`es-verifactu-v1`](https://docs.gobl.org/addons/es-verifactu-v1) addon and ensure the `customer` field contains valid tax identification details. The addon will automatically set the document type to `F1` when the silo entry is built (which happens automatically when saving a silo entry through the API or console).

    <Note>
      The `supplier` must be [previously registered](https://docs.invopop.com/guides/es-verifactu-supplier#create-a-supplier-entry) with the tax authority and the `customer` NIF or VAT ID must be valid.
    </Note>

    <CodeGroup>
      <B2BInvoiceMin />
      <B2BInvoice />
    </CodeGroup>
  </Accordion>

  <Accordion title="B2B Services EU Client (Reverse Charge)">
    Reverse charge invoices are used for B2B services provided to customers in other EU member states. Reverse charge must be applied when:

    - The customer is a registered business in another EU member state (has a valid EU VAT ID).
    - The service is provided to a business customer (B2B), not a consumer.
    - The service is subject to VAT but the customer accounts for the VAT in their own country.

    To create a reverse charge VERI\*FACTU invoice, use the tax key `reverse-charge` in your invoice lines. The [`es-verifactu-v1`](https://docs.gobl.org/addons/es-verifactu-v1) addon will automatically set the operation class to `S2` (Subject and Not Exempt - With reverse charge) when the silo entry is built.

    <Note>
      With reverse charge, no VAT is charged by the supplier. The customer accounts for VAT in their own country. The `supplier` must be [previously registered](https://docs.invopop.com/guides/es-verifactu-supplier#create-a-supplier-entry) with the tax authority and the `customer` VAT ID must be valid and registered in the EU VIES system.
    </Note>

    <CodeGroup>
      <B2BServicesEUClientMin />
      <B2BServicesEUClient />
    </CodeGroup>
  </Accordion>

  <Accordion title="B2B Goods EU Client (Intra-Community)">
    Intra-community supply invoices are used for B2B goods delivered to customers in other EU member states. Intra-community supplies must be applied when:

    - The customer is a registered business in another EU member state (has a valid EU VAT ID).
    - Goods are physically delivered to another EU member state.
    - The supply is exempt from VAT in the origin country (Spain) and subject to VAT in the destination country.

    To create an intra-community supply VERI\*FACTU invoice, use the tax key `intra-community` in your invoice lines. The [`es-verifactu-v1`](https://docs.gobl.org/addons/es-verifactu-v1) addon will automatically set the exemption code to `E5` ([Artículo 25 Ley de IVA](https://www.boe.es/eli/es/l/1992/12/28/37/con#a25)) when the silo entry is built.

    <Note>
      With intra-community supplies, no VAT is charged in Spain. The customer accounts for VAT in their destination country. The `supplier` must be [previously registered](https://docs.invopop.com/guides/es-verifactu-supplier#create-a-supplier-entry) with the tax authority and the `customer` VAT ID must be valid and registered in the EU VIES system.
    </Note>

    <CodeGroup>
      <B2BGoodsEUClientMin />
      <B2BGoodsEUClient />
    </CodeGroup>
  </Accordion>

  <Accordion title="B2B Services International Client (Outside Scope)">
    Outside scope invoices are used for B2B services provided to customers outside the EU.

    To create an outside scope VERI\*FACTU invoice, use the tax key `outside-scope` in your invoice lines. The [`es-verifactu-v1`](https://docs.gobl.org/addons/es-verifactu-v1) addon will automatically set the operation class to `N2` (Not Subject - Due to location rules) when the silo entry is built.

    <Note>
      Services provided to non-EU customers are generally outside the scope of Spanish VAT. The `supplier` must be previously registered with the tax authority. Customer tax identification is optional but recommended for record-keeping purposes.
    </Note>

    <CodeGroup>
      <B2BServicesNoEUClientMin />
      <B2BServicesNoEUClient />
    </CodeGroup>
  </Accordion>

  <Accordion title="B2B Goods International Client (Export)">
    Export invoices are used for B2B goods delivered to customers outside the EU.

    To create an export VERI\*FACTU invoice, use the tax key `export` in your invoice lines. The [`es-verifactu-v1`](https://docs.gobl.org/addons/es-verifactu-v1) addon will automatically set the exemption code to `E2` ([Artículo 21 Ley de IVA](https://www.boe.es/eli/es/l/1992/12/28/37/con#a21)) and regime code to `02` (Export) when the silo entry is built.

    <Note>
      Exported goods are exempt from Spanish VAT. The `supplier` must be previously registered with the tax authority. Customer tax identification is optional but recommended for record-keeping purposes.
    </Note>

    <CodeGroup>
      <B2BGoodsNoEUClientMin />
      <B2BGoodsNoEUClient />
    </CodeGroup>
  </Accordion>

  <Accordion title="B2B Exempt E1 Invoice">
    Exempt `E1` invoices are used for B2B transactions that are exempt from VAT pursuant ([Artículo 20 Ley de IVA](https://www.boe.es/eli/es/l/1992/12/28/37/con#a20)), which covers exemptions in internal operations.

    To create an exempt E1 VERI\*FACTU invoice, use the tax key `exempt` in your invoice lines. The [`es-verifactu-v1`](https://docs.gobl.org/addons/es-verifactu-v1) addon will automatically set the exemption code to `E1` when the silo entry is built.

    <Note>
      Exempt operations are not subject to VAT but must still be reported. The `supplier` must be previously registered with the tax authority and the `customer` NIF must be valid.
    </Note>

    <CodeGroup>
      <B2BExemptE1InvoiceMin />
      <B2BExemptE1Invoice />
    </CodeGroup>
  </Accordion>

  <Accordion title="B2C One-Stop-Shop Invoice">
    One-Stop-Shop (OSS) invoices are used for B2C distance sales of goods and services to consumers in other EU member states when the supplier is registered under the OSS scheme.

    To create an OSS VERI\*FACTU invoice, include the `simplified` tag in your GOBL document with the [`es-verifactu-v1`](https://docs.gobl.org/addons/es-verifactu-v1) addon. The invoice will be treated as a simplified invoice (document type `F2`) and VAT is accounted for through the OSS scheme in the destination country.

    <Note>
      OSS allows suppliers to register for VAT in one EU member state and account for VAT on all EU distance sales through that single registration. The `supplier` must be [previously registered](https://docs.invopop.com/guides/es-verifactu-supplier#create-a-supplier-entry) with the tax authority and enrolled in the OSS scheme.
    </Note>

    <CodeGroup>
      <B2COneStopShopInvoiceMin />
      <B2COneStopShopInvoice />
    </CodeGroup>
  </Accordion>

  <Accordion title="Credit note (rectificativa por sustitución)">
      <CodeGroup>
      <CreditNoteInvoiceMin />
      <CreditNoteInvoice />
    </CodeGroup>
  </Accordion>

  <Accordion title="Corrective invoice (rectificativa por diferencias)">
    <CorrectiveInvoice />
  </Accordion>

</AccordionGroup>