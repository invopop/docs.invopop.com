---
title: "Send KSEF invoice"
description: "Generate FAVAT v3 XML and send it to KSEF"
countryCode: "pl"
appId: "gov-pl"
schema: "bill/invoice"
---

```json Example Send KSEF invoice workflow with states
{
    "name": "Send KSEF invoice",
    "description": "Generate FAVAT v3 XML and send it to KSEF",
    "schema": "bill/invoice",
    "steps": [
        {
            "id": "20bbac70-fb6e-11f0-8a4e-79beeb9e3cf2",
            "name": "Set State",
            "provider": "silo.state",
            "summary": "Set state to `processing`{.state .processing}",
            "config": {
                "state": "processing"
            }
        },
        {
            "id": "9b5f5330-fb70-11f0-bcdd-bdb71eaf1fb4",
            "name": "Add Sequential Code",
            "provider": "sequence.enumerate",
            "summary": "Dynamic · KSEF · 000001",
            "config": {
                "name": "KSEF",
                "padding": 6,
                "start": 1
            }
        },
        {
            "id": "2f41c860-fb6e-11f0-8a4e-79beeb9e3cf2",
            "name": "Sign Envelope",
            "provider": "silo.close"
        },
        {
            "id": "2b064190-fb6e-11f0-8a4e-79beeb9e3cf2",
            "name": "Generate FA_VAT v3 XML",
            "provider": "gov-pl.generate"
        },
        {
            "id": "36ec8550-fb6e-11f0-8a4e-79beeb9e3cf2",
            "name": "Send FA_VAT v3 XML to KSEF",
            "provider": "gov-pl.send"
        },
        {
            "id": "3a3e2150-fb6e-11f0-8a4e-79beeb9e3cf2",
            "name": "Set State",
            "provider": "silo.state",
            "summary": "Set state to `sent`{.state .sent}",
            "config": {
                "state": "sent"
            }
        }
    ],
    "rescue": [
        {
            "id": "3eca1210-fb6e-11f0-8a4e-79beeb9e3cf2",
            "name": "Set State",
            "provider": "silo.state",
            "summary": "Set state to `error`{.state .error}",
            "config": {
                "state": "error"
            }
        }
    ]
}
```