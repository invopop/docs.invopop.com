---
title: "AT cancel invoice"
description: "Cancel an invoice in Portugal and generate PDF"
countryCode: "pt"
appId: "pt-at"
schema: "bill/invoice"
---

```json Example AT cancel invoice workflow with states
{
  "name": "Cancel AT invoice",
  "description": "Cancel an invoice in Portugal and generate PDF",
  "schema": "bill/invoice",
  "steps": [
    {
      "id": "6f884d90-f2b9-11ef-acb2-cd64e858247e",
      "name": "Set State",
      "provider": "silo.state",
      "config": {
        "state": "processing"
      }
    },
    {
      "id": "cc0002a0-927f-11f0-8cd1-bd9f2c371090",
      "name": "Cancel SAF-T record (Portugal)",
      "provider": "at-pt.cancel"
    },
    {
      "id": "7a708240-f2b9-11ef-acb2-cd64e858247e",
      "name": "Set State",
      "provider": "silo.state",
      "config": {
        "state": "void"
      }
    },
    {
      "id": "93795a50-f2b9-11ef-acb2-cd64e858247e",
      "name": "Generate PDF (Original)",
      "provider": "pdf",
      "summary": "Portuguese - A4",
      "config": {
        "date_format": "%Y-%m-%d",
        "hide_promo": true,
        "label": "Original",
        "layout": "A4",
        "locale": "pt",
        "logo_height": 40,
        "watermark": ""
      }
    },
    {
      "id": "ce7c50c0-9d55-11f0-b3a4-87562f21f508",
      "name": "Generate PDF (Duplicate)",
      "provider": "pdf",
      "summary": "Portuguese - A4",
      "config": {
        "date_format": "%Y-%m-%d",
        "label": "Duplicado",
        "layout": "A4",
        "locale": "pt",
        "logo_height": 40,
        "watermark": ""
      }
    }
  ],
  "rescue": [
    {
      "id": "805bdbf0-f2b9-11ef-acb2-cd64e858247e",
      "name": "Set State",
      "provider": "silo.state",
      "config": {
        "state": "error"
      }
    }
  ]
}
```
